<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Messages :: ðŸ“š AxonIQ Library</title>
    <link rel="prev" href="../index.html">
    <link rel="next" href="command_messages.html">
    <meta name="generator" content="Antora 3.1.1">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z9N4KWZGQV"></script>
    <script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','G-Z9N4KWZGQV')</script>
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://library.axoniq.io">ðŸ“š AxonIQ Library</a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs">
        </div>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">Explanations</a>
          <div class="navbar-dropdown">
                <a class="navbar-item" href="../../../concepts/index.html">Software Development Concepts</a>
                <a class="navbar-item" href="../../../understanding-axon/index.html">Understanding Axon</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">References</a>
          <div class="navbar-dropdown">
                <a class="navbar-item" href="../../index.html">Axon Framework</a>
                <a class="navbar-item" href="../../../axon_server_ref/0/index.html">Axon Server</a>
                <a class="navbar-item" href="../../../synapse_ref/development/index.html">Axon Synapse</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">Tutorials</a>
          <div class="navbar-dropdown">
                <a class="navbar-item" href="../../../synapse-quick-start/development/index.html">Axon Synapse Quick Start</a>
                <a class="navbar-item" href="../../../giftcard/index.html">Building a Giftcard Application</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">How-to guides</a>
          <div class="navbar-dropdown">
          </div>
        </div>
        <a class="navbar-item" href="https://academy.axoniq.io" target="_blank">AxonIQ Academy</a>
        <a class="navbar-item" href="https://discuss.axoniq.io" target="_blank">Discuss</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="axon_framework_ref" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">Axon Framework</a></h3>

<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Overview</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../overview.html">High-Level Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../structure.html">Modules</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Bootstrap modules</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../configuration/index.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../springboot-starter/index.html">Spring Boot Starter</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Core modules</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../index.html">Messaging</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="messages.html">Messages</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="command_messages.html">Command Messages</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="query_messages.html">Query Messages</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="event_messages.html">Event Messages</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../routing/routing.html">Message Routing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../routing/command_routing.html">Command Routing</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../routing/query_routing.html">Query Routing</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../routing/event_routing.html">Event Routing</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../advanced_messaging/index.html">Advanced Messaging</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../advanced_messaging/correlation.html">Message Correlation</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../modeling/index.html">Modeling</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../modeling/aggregate.html">Aggregate</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../modeling/saga.html">Saga</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../eventsourcing/index.html">Event Sourcing</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Optional modules</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../test/index.html">Test</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../axon-server-connector/index.html">Axon Server Connector</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../spring/index.html">Spring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../disruptor/index.html">Disruptor</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../metrics/index.html">Metrics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../micrometer/index.html">Micrometer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tracing-open-telemetry/index.html">Tracing OpenTelemetry</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../legacy/index.html">Legacy</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../home/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Axon Framework</a></li>
    <li>Core modules</li>
    <li><a href="../index.html">Messaging</a></li>
    <li><a href="messages.html">Messages</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">master</button>
  <div class="version-menu">
    <a class="version is-current" href="messages.html">master</a>
    <a class="version is-missing" href="../../0/index.html">older releases</a>
  </div>
</div>
<div class="page-actions">
  <button class="actions-menu-toggle" title="Show actions related to this page">Actions</button>
  <div class="actions-menu">
      <a class="action" href="">Edit this Page</a>
    
    <a class="action" href="https://discuss.axoniq.io/search?q&#x3D;https%3A%2F%2Flibrary.axoniq.io%2Faxon_framework_ref%2Fmessaging%2Fmessages%2Fmessages.html%20%23library" target="discuss_search">View Discussions</a>
    <a class="action" href="https://discuss.axoniq.io/new-topic?category&#x3D;library&amp;title&#x3D;%22Messages%22%20library%20page%20...&amp;body&#x3D;%3C!--%20Replace%20this%20comment%20with%20your%20comment%2Fsuggestion%2Fquestion%2F...%20--%3E%0A%0A%0A%3C!--%0AKeep%20the%20section%20below!%0ALinking%20back%20to%20the%20documentation%20URL%20not%20only%20helps%20people%20go%20to%20the%20page%0Abut%20also%20helps%20find%20relevant%20discussions%20from%20the%20documentation%20page%20via%20the%20%22View%20Discussion%22%20menu.%0A--%3E%0A%5Bdetails%3D%22Related%20library%20page%22%5D%0A%5BMessages%5D(https%3A%2F%2Flibrary.axoniq.io%2Faxon_framework_ref%2Fmessaging%2Fmessages%2Fmessages.html)%0A%5B%2Fdetails%5D%0A" target="discuss_add">Start new discussion</a>
  </div>
</div>


</div>
<div class="needs-improvement">
    <div>
      <h5>This content needs improvements</h5>
      <ul>
        <li>Design considerations needs details about messages characteristics</li>
        <li>Usage section needs detailed examples</li>
        <li>Reference section need more links to samples, source code, etc.</li>
      </ul>
      <div class="improve-request">
        You are welcome to <a class="action" href="">edit this page</a>.
        You can also search for and contribute to
        <a class="action" href="https://discuss.axoniq.io/search?q&#x3D;https%3A%2F%2Flibrary.axoniq.io%2Faxon_framework_ref%2Fmessaging%2Fmessages%2Fmessages.html%20%23library" target="discuss_search">previous discussions about this page</a>
        or
        <a class="action" href="https://discuss.axoniq.io/new-topic?category&#x3D;library&amp;title&#x3D;%22Messages%22%20library%20page%20...&amp;body&#x3D;%3C!--%20Replace%20this%20comment%20with%20your%20comment%2Fsuggestion%2Fquestion%2F...%20--%3E%0A%0A%0A%3C!--%0AKeep%20the%20section%20below!%0ALinking%20back%20to%20the%20documentation%20URL%20not%20only%20helps%20people%20go%20to%20the%20page%0Abut%20also%20helps%20find%20relevant%20discussions%20from%20the%20documentation%20page%20via%20the%20%22View%20Discussion%22%20menu.%0A--%3E%0A%5Bdetails%3D%22Related%20library%20page%22%5D%0A%5BMessages%5D(https%3A%2F%2Flibrary.axoniq.io%2Faxon_framework_ref%2Fmessaging%2Fmessages%2Fmessages.html)%0A%5B%2Fdetails%5D%0A" target="discuss_add">start a new one</a>
        .
      </div>
    </div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Messages</h1>
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This document provides information about the design, implementation, and intended usage of generic messaging in Axon Framework.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_design_considerations"><a class="anchor" href="#_design_considerations"></a>Design considerations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To allow components to communicate via messages, developers must represent those as Java objects. Axon Framework should provide means to construct such objects so it can use them to carry data from one component to another consistently across modules and deployment units. Below are the characteristics that every message has.</p>
</div>
<div class="sect2">
<h3 id="_uniquely_identifiable"><a class="anchor" href="#_uniquely_identifiable"></a>Uniquely identifiable</h3>
<div class="paragraph">
<p>All messages are uniquely identifiable.</p>
</div>
</div>
<div class="sect2">
<h3 id="_serializable"><a class="anchor" href="#_serializable"></a>Serializable</h3>

</div>
<div class="sect2">
<h3 id="_immutable"><a class="anchor" href="#_immutable"></a>Immutable</h3>
<div class="paragraph">
<p>All messages are immutable. Updating a message mandates creating a new message based on the previous one, with extra information added. Immutability guarantees that messages are safe to use in a multi-threaded and distributed environment.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation"><a class="anchor" href="#_implementation"></a>Implementation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In Axon Framework, a message is an immutable, serializable Java object implementing the <code>Message</code> interface.</p>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="../_images/svg-058c024045b6a36af7b704213d5fc4a7732ccacf.svg" alt="Generic messaging class diagram">
</div>
<div class="title">Figure 1. Generic messaging class diagram</div>
</div>
<div class="paragraph">
<p>When the communication is bidirectional, the response is an object that implements <code>ResultMessage</code>. A <code>MessageDecorator</code> abstract object allows for building more complex messages by wrapping existing message types.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_usage"><a class="anchor" href="#_usage"></a>Usage</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Avoid using generic messages directly. Use higher-level abstractions such as <a href="command_messages.html" class="xref page">Command Messages</a>, <a href="query_messages.html" class="xref page">Query Messages</a>, or <a href="event_messages.html" class="xref page">Event Messages</a> instead.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Application developers don&#8217;t need to work directly with generic messages. The framework provides convenient higher-level abstractions for specific message types. It can also automatically construct the respective messages from domain-level objects, extract the payload of messages, and convert it to such domain-level objects.</p>
</div>
<div class="paragraph">
<p>That said, understanding the generic messaging design and object structure can significantly help during debugging or building custom extensions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reference"><a class="anchor" href="#_reference"></a>Reference</h2>
<div class="sectionbody">
<details>
<summary class="title">Javadoc</summary>
<div class="content">
<div class="ulist">
<ul>
<li>
<p><a href="https://apidocs.axoniq.io/latest/org/axonframework/messaging/Message.html"><code>Message</code></a></p>
</li>
</ul>
</div>
</div>
</details>
<details>
<summary class="title">Source code</summary>
<div class="content">
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/AxonFramework/AxonFramework/blob/master/messaging/src/main/java/org/axonframework/messaging/Message.java"><code>Message</code></a></p>
</li>
</ul>
</div>
</div>
</details>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="../index.html">Messaging</a></span>
  <span class="next"><a href="command_messages.html">Command Messages</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <div class="primary-footer">
    <div class="footer-logo ">
      <a href="https://axoniq.io/">
        <img src="https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=90&amp;height=20&amp;name=Logo%20AxonIQ%20(2).png" alt="Logo AxonIQ" loading="lazy" srcset="https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=45&amp;height=10&amp;name=Logo%20AxonIQ%20(2).png 45w, https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=90&amp;height=20&amp;name=Logo%20AxonIQ%20(2).png 90w, https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=135&amp;height=30&amp;name=Logo%20AxonIQ%20(2).png 135w, https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=180&amp;height=40&amp;name=Logo%20AxonIQ%20(2).png 180w, https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=225&amp;height=50&amp;name=Logo%20AxonIQ%20(2).png 225w, https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=270&amp;height=60&amp;name=Logo%20AxonIQ%20(2).png 270w" sizes="(max-width: 90px) 100vw, 90px" width="90" height="20">
      </a>
    </div>

    <div class="footer-menu">
	    <h3>Products</h3>
	    <div>
        <ul role="menu">
          <li><a class="ext" target="_blank" href="https://developer.axoniq.io/axon-framework/overview">Axon Framework</a></li>
          <li><a class="ext" target="_blank" href="https://developer.axoniq.io/axon-server/overview">Axon Server Standard</a></li>
          <li><a class="ext" target="_blank" href="https://developer.axoniq.io/axon-server-enterprise/overview">Axon Server Enterprise</a></li>
          <li><a class="ext" target="_blank" href="https://developer.axoniq.io/axoniq-cloud/overview">AxonIQ Cloud</a></li>
          <li><a class="ext" target="_blank" href="https://developer.axoniq.io/axon-data-protection/overview">AxonIQ Data Protection</a></li>
        </ul>
      </div>
    </div>

    <div class="footer-menu">
	    <h3>Sites</h3>
	    <div>
        <ul role="menu">
          <li><a class="ext" target="_blank" href="http://support.axoniq.io/"> Client Support Portal</a></li>
          <li><a class="ext" target="_blank" href="https://developer.axoniq.io/">AxonIQ Developer Portal</a></li>
          <li><a class="ext" target="_blank" href="https://academy.axoniq.io/">AxonIQ Academy</a></li>
          <li><a class="ext" target="_blank" href="https://discuss.axoniq.io/">AxonIQ Discuss</a></li>
          <li><a class="ext" target="_blank" href="https://start.axoniq.io/">AxonIQ Initializr</a></li>
          <li><a class="ext" target="_blank" href="https://console.cloud.axoniq.io">AxonIQ Cloud</a></li>
        </ul>
      </div>
    </div>

    <div class="footer-menu">
	    <h3>Follow us</h3>
	    <div>
        <ul role="menu">
          <li><a class="ext" target="_blank" href="https://www.youtube.com/axoniq">YouTube</a></li>
          <li><a class="ext" target="_blank" href="https://www.linkedin.com/company/axoniq">LinkedIn</a></li>
          <li><a class="ext" target="_blank" href="https://www.facebook.com/AxonIQ.io">Facebook</a></li>
          <li><a class="ext" target="_blank" href="https://twitter.com/axon_iq">Twitter</a></li>
          <li><a class="ext" target="_blank" href="https://github.com/AxonIQ">GitHub</a></li>
          <li><a class="ext" target="_blank" href="https://medium.com/axoniq">Medium</a></li>
        </ul>
      </div>
    </div>
  </div>
</footer>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script async src="../../../_/js/vendor/page-actions.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>
  </body>
</html>
