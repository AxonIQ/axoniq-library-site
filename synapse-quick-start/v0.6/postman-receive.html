<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Receive Messages With Postman</title>
    <link rel="canonical" href="https://library.axoniq.io/synapse-quick-start/latest/postman-receive.html">
    <link rel="prev" href="postman-send.html">
    <meta name="generator" content="Antora 3.1.1">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/vendor/tabs.css">

        <!-- Google Tag Manager -->
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-5QD58ZB');</script>
        <!-- End Google Tag Manager -->

    <script>var uiRootPath = '../../_'</script>


  </head>
  <body class="article">

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5QD58ZB"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://library.axoniq.io">ðŸ“š AxonIQ Library</a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs">
        </div>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">Explanations</a>
          <div class="navbar-dropdown">
                <a class="navbar-item" href="../../concepts/index.html">Software Development Concepts</a>
                <a class="navbar-item" href="../../understanding-axon/index.html">Understanding Axon</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">References</a>
          <div class="navbar-dropdown">
                <a class="navbar-item" href="../../axon_framework_ref/index.html">Axon Framework</a>
                <a class="navbar-item" href="../../axon_server_ref/index.html">Axon Server</a>
                <a class="navbar-item" href="../../synapse_ref/latest/index.html">Axon Synapse</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">Tutorials</a>
          <div class="navbar-dropdown">
                <a class="navbar-item" href="../../axon_framework_fundamentals/index.html">Axon Framework Fundamentals</a>
                <a class="navbar-item" href="../../axon-server-fundamentals/index.html">Axon Server Fundamentals</a>
                <a class="navbar-item" href="../latest/index.html">Axon Synapse Quick Start</a>
                <a class="navbar-item" href="../../giftcard/index.html">Building a Giftcard Application</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">How-to guides</a>
          <div class="navbar-dropdown">
          </div>
        </div>
        <a class="navbar-item" href="https://academy.axoniq.io" target="_blank">AxonIQ Academy</a>
        <a class="navbar-item" href="https://discuss.axoniq.io" target="_blank">Discuss</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="synapse-quick-start" data-version="v0.6">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Axon Synapse Quick Start</a></h3>

<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="installation.html">Installation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="postman-send.html">Send Messages With Postman</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="postman-receive.html">Receive Messages With Postman</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
  <div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../home/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Axon Synapse Quick Start</a></li>
    <li><a href="postman-receive.html">Receive Messages With Postman</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">v0.6</button>
  <div class="version-menu">
    <a class="version" href="../latest/postman-receive.html">latest</a>
    <a class="version" href="../v0.9/postman-receive.html">v0.9</a>
    <a class="version" href="../v0.8/postman-receive.html">v0.8</a>
    <a class="version" href="../v0.7/postman-receive.html">v0.7</a>
    <a class="version is-current" href="postman-receive.html">v0.6</a>
  </div>
</div>
<div class="page-actions">
  <button class="actions-menu-toggle" title="Show actions related to this page">Actions</button>
  <div class="actions-menu">

    <a class="action" href="https://discuss.axoniq.io/search?q&#x3D;https%3A%2F%2Flibrary.axoniq.io%2Fsynapse-quick-start%2Fv0.6%2Fpostman-receive.html%20%23library" target="discuss_search">View Discussions</a>
    <a class="action" href="https://discuss.axoniq.io/new-topic?category&#x3D;library&amp;title&#x3D;%22Receive%20Messages%20With%20Postman%22%20library%20page%20...&amp;body&#x3D;%3C!--%20Replace%20this%20comment%20with%20your%20comment%2Fsuggestion%2Fquestion%2F...%20--%3E%0A%0A%0A%3C!--%0AKeep%20the%20section%20below!%0ALinking%20back%20to%20the%20documentation%20URL%20not%20only%20helps%20people%20go%20to%20the%20page%0Abut%20also%20helps%20find%20relevant%20discussions%20from%20the%20documentation%20page%20via%20the%20%22View%20Discussion%22%20menu.%0A--%3E%0A%5Bdetails%3D%22Related%20library%20page%22%5D%0A%5BReceive%20Messages%20With%20Postman%5D(https%3A%2F%2Flibrary.axoniq.io%2Fsynapse-quick-start%2Fv0.6%2Fpostman-receive.html)%0A%5B%2Fdetails%5D%0A" target="discuss_add">Start new discussion</a>
  </div>
</div>


</div>
    <div class="content">
        <aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
          <article class="doc">
            <h1 class="page">Receive Messages With Postman</h1>
            <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>You learned how to send messages to Axon Synapse in the previous section. In this one, you&#8217;ll listen to messages from Axon Synapse. Again the three message types you can listen for are commands, queries, and events.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_prerequisites"><a class="anchor" href="#_prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To accomplish the steps in this guide, you need to download and install Axon Synapse, Axon Server, and the Giftcard demo application. Before you continue, please complete the steps detailed on the <a href="installation.html" class="xref page">Installation</a> page.</p>
</div>
<div class="paragraph">
<p>Additionally, you need to download and install Postman. Go to <a href="https://www.postman.com/downloads/">Postman&#8217;s download page</a> for detailed instructions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_postman_mock_servers"><a class="anchor" href="#_postman_mock_servers"></a>Postman mock servers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When you send messages to Axon Synapse, you send HTTP requests. To receive messages, Axon Synapse sends HTTP requests to your application. You may create such an application in any language. From Axon Synapse&#8217;s perspective, all that matters is that it can receive an HTTP request and process the message in the payload.</p>
</div>
<div class="paragraph">
<p>For the purposes of this example, you&#8217;ll simulate your application by using <a href="https://learning.postman.com/docs/designing-and-developing-your-api/mocking-data/setting-up-mock/">Postman&#8217;s mock server feature</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_handle_a_command_message"><a class="anchor" href="#_handle_a_command_message"></a>Handle a command message</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A command message is a request to perform a specific operation. Axon Synapse sends such messages via regular HTTP requests.</p>
</div>
<div class="sect2">
<h3 id="_create_a_dedicated_mock_server"><a class="anchor" href="#_create_a_dedicated_mock_server"></a>Create a dedicated mock server</h3>
<div class="paragraph">
<p>Select <code>Mock Servers</code> in Postman&#8217;s sidebar, then select +.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/16%20postman%20mock%20server.png" alt="A screenshot of the first step of creating the query handling mock in the Postman">
</div>
<div class="title">Figure 1. A screenshot of the first step of creating the command handling mock in the Postman</div>
</div>
<div class="paragraph">
<p>Next, give it a name. You can leave default values in other options.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/17%20postman%20mock%20server%202.png" alt="A screenshot of the first step of creating the query handling mock in the Postman">
</div>
<div class="title">Figure 2. A screenshot of the second step of creating the command handling mock in the Postman</div>
</div>
<div class="paragraph">
<p>The new mock server is ready and waiting for incoming messages.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/18%20postman%20mock%20server%203.png" alt="A screenshot of the query handling mock in the Postman">
</div>
<div class="title">Figure 3. A screenshot of the command handling mock in the Postman</div>
</div>
</div>
<div class="sect2">
<h3 id="_configure_axon_synapse_to_send_commands_to_the_mock_server"><a class="anchor" href="#_configure_axon_synapse_to_send_commands_to_the_mock_server"></a>Configure Axon Synapse to send commands to the mock server</h3>
<div class="paragraph">
<p>You must inform Axon Synapse what commands it should send to the application <em>(the mock server in this case)</em>. One way to do it&#8217;s to send a registration request to Axon Synapse, as demonstrated below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-http hljs" data-lang="http"><i class="conum" data-value="1"></i><b>(1)</b> <i class="conum" data-value="2"></i><b>(2)</b> <i class="conum" data-value="3"></i><b>(3)</b>
POST http://localhost:8080/v1/contexts/default/handlers/commands
Content-Type: application/json

{
  "names": [
    "io.axoniq.demo.giftcard.api.IssueCardCommand" <i class="conum" data-value="4"></i><b>(4)</b>
  ],
  "endpoint": "https://cb5b8a7d-d2d1-4583-a6bc-31c70e9d0593.mock.pstmn.io/gift-cards", <i class="conum" data-value="5"></i><b>(5)</b>
  "endpointType": "http-raw", <i class="conum" data-value="6"></i><b>(6)</b>
  "clientId": "Postman", <i class="conum" data-value="7"></i><b>(7)</b>
  "componentName": "Giftcard" <i class="conum" data-value="8"></i><b>(8)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>POST - indicates a POST request</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code><a href="http://localhost:8080" class="bare">http://localhost:8080</a></code> - the instance of Axon Synapse</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>v1/contexts/default/handlers/commands</code> - registering a command handler</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><code>io.axoniq.demo.giftcard.api.IssueCardCommand</code> - the command name</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>the command handler endpoint, in this example the Postman mock</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>the command handler endpoint type <em>(<code>http-raw</code> means the payload is in the request&#8217;s body)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>the unique identifier of the command handling application instance</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>the application of the application component</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Alternatively, you can use Axon Synapse&#8217;s UI to register the handler.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/19%20register%20command%20handler.png" alt="A screenshot of registering the command handling mock in the Synapse UI">
</div>
<div class="title">Figure 4. A screenshot of registering the command handling mock in the Synapse UI</div>
</div>
</div>
<div class="sect2">
<h3 id="_confirm_it_works"><a class="anchor" href="#_confirm_it_works"></a>Confirm it works</h3>
<div class="paragraph">
<p>If you configured the mock server correctly, there are now two command handlers in the system for the <code>IssueCardCommand</code> message. There is one in the Giftcard demo app and the Postman mock server you created. As new command messages of type <code>IssueCardCommand</code> arrive, they&#8217;re load-balanced between the two handlers.</p>
</div>
<div class="paragraph">
<p>Go to the admin page for the Giftcard demo app and issue several new gift cards. Doing so creates and sends several <code>IssueCardCommand</code> command messages. At least some of them should go to Postman mock server. Once it receives such a command, you should see the content of the command and its meta-data, as on the screen below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/20%20postman%20mock%20server%20command.png" alt="A screenshot of a command captured by the Postman mock">
</div>
<div class="title">Figure 5. A screenshot of a command captured by the Postman mock</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_handle_a_query_message"><a class="anchor" href="#_handle_a_query_message"></a>Handle a query message</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A query message is a request for information and so the handler must provide a response. Responding to a query message received from Axon Synapse is nothing more than replying to the HTTP request. You&#8217;ll use Postman mock server again to simulate the behavior of an HTTP application.</p>
</div>
<div class="sect2">
<h3 id="_create_a_dedicated_mock_server_2"><a class="anchor" href="#_create_a_dedicated_mock_server_2"></a>Create a dedicated mock server</h3>
<div class="paragraph">
<p>Select <code>Mock Servers</code> in Postman&#8217;s sidebar, then select +.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/21%20postman%20mock%20list%20gift%20cards.png" alt="A screenshot of the first step of creating the query handling mock in the Postman">
</div>
<div class="title">Figure 6. A screenshot of the first step of creating the query handling mock in the Postman</div>
</div>
<div class="paragraph">
<p>For the <code>Response Body</code>, you can use the template sown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;list&gt; <i class="conum" data-value="1"></i><b>(1)</b>
    &lt;io.axoniq.demo.giftcard.api.CardSummary&gt; <i class="conum" data-value="2"></i><b>(2)</b>
        &lt;id&gt;http-based-gift-card&lt;/id&gt; <i class="conum" data-value="3"></i><b>(3)</b>
        &lt;initialValue&gt;155&lt;/initialValue&gt; <i class="conum" data-value="4"></i><b>(4)</b>
        &lt;remainingValue&gt;155&lt;/remainingValue&gt; <i class="conum" data-value="5"></i><b>(5)</b>
    &lt;/io.axoniq.demo.giftcard.api.CardSummary&gt;
&lt;/list&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The response with list of gift cards</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The first gift card</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>id</code> property</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The <code>initialValue</code> property</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The <code>remainingValue</code> property</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Proceed to the next step and give the mock a name.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/22%20postman%20mock%20list%20gift%20cards%202.png" alt="A screenshot of the second step of creating the query handling mock in the Postman">
</div>
<div class="title">Figure 7. A screenshot of the second step of creating the query handling mock in the Postman</div>
</div>
<div class="paragraph">
<p>Finally, you can listen to requests:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/23%20postman%20mock%20list%20gift%20cards%203.png" alt="A screenshot of the query handling mock in the Postman">
</div>
<div class="title">Figure 8. A screenshot of the query handling mock in the Postman</div>
</div>
<div class="paragraph">
<p>Go to the Collections tab and add headers to the response:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-http hljs" data-lang="http">AxonIQ-PayloadType: java.util.ArrayList</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/24%20postman%20mock%20list%20gift%20cards%20http%20header.png" alt="A screenshot of the header view for query handling mock in the Postman">
</div>
<div class="title">Figure 9. A screenshot of the header view for query handling mock in the Postman</div>
</div>
</div>
<div class="sect2">
<h3 id="_configure_axon_synapse_to_send_queries_to_the_mock_server"><a class="anchor" href="#_configure_axon_synapse_to_send_queries_to_the_mock_server"></a>Configure Axon Synapse to send queries to the mock server</h3>
<div class="paragraph">
<p>You need to register the query handler with Axon Synapse as you did with the command handlers. The code below shows an example of doing so via the HTTP API.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-http hljs" data-lang="http"><i class="conum" data-value="1"></i><b>(1)</b> <i class="conum" data-value="2"></i><b>(2)</b> <i class="conum" data-value="3"></i><b>(3)</b>
POST http://localhost:8080/v1/contexts/default/handlers/queries
Content-Type: application/json

{
  "names": [
    "io.axoniq.demo.giftcard.api.FetchCardSummariesQuery" <i class="conum" data-value="4"></i><b>(4)</b>
  ],
  "endpoint": "https://ac365f15-964b-4083-af93-1536f297fd7e.mock.pstmn.io/list-gift-cards/", <i class="conum" data-value="5"></i><b>(5)</b>
  "endpointType": "http-raw", <i class="conum" data-value="6"></i><b>(6)</b>
  "clientId": "Postman", <i class="conum" data-value="7"></i><b>(7)</b>
  "componentName": "Giftcard" <i class="conum" data-value="8"></i><b>(8)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>POST - indicates a POST request</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code><a href="http://localhost:8080" class="bare">http://localhost:8080</a></code> - the instance of Axon Synapse</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>v1/contexts/default/handlers/queries</code> - creating a query handler</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><code>io.axoniq.demo.giftcard.api.FetchCardSummariesQuery</code> - the query name</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>the query handler endpoint, in this example the Postman mock</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>the query handler endpoint type <em>(<code>http-raw</code> means the payload is in the request&#8217;s body)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>the unique identifier of the command handling application instance</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>the application of the application component</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Alternatively, you can use Axon Synapse&#8217;s UI to register the handler.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/25%20register%20query%20handler.png" alt="A screenshot of registering the query handling mock in the Synapse UI">
</div>
<div class="title">Figure 10. A screenshot of registering the query handling mock in the Synapse UI</div>
</div>
</div>
<div class="sect2">
<h3 id="_confirm_it_works_2"><a class="anchor" href="#_confirm_it_works_2"></a>Confirm it works</h3>
<div class="paragraph">
<p>Again, if you configured everything correctly, there are two query handlers for the <code>FetchCardSummariesQuery</code> - the one from the Giftcard demo app and the one from Postman&#8217;s mock server. Therefore, routing a query to the mock server may take several tries.</p>
</div>
<div class="paragraph">
<p>You can test the query handler using the Giftcard demo app or Synapse HTTP query.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/26%20gift%20card%20gui%20custom%20query.png" alt="A screenshot of a query result returned by the Postman mock in the Giftcard demo application UI">
</div>
<div class="title">Figure 11. A screenshot of a query result returned by the Postman mock in the Giftcard demo application UI</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_handle_an_event_message"><a class="anchor" href="#_handle_an_event_message"></a>Handle an event message</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Axon Synapse can send events to your application through HTTP requests, one by one, ordered by the sequence index.</p>
</div>
<div class="sect2">
<h3 id="_create_a_dedicated_mock_server_3"><a class="anchor" href="#_create_a_dedicated_mock_server_3"></a>Create a dedicated mock server</h3>
<div class="paragraph">
<p>Create a new <code>Mock Server</code> in the Postman.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/27%20postman%20mock%20card%20issued.png" alt="A screenshot of the first step of creating the event handling mock in the Postman">
</div>
<div class="title">Figure 12. A screenshot of the first step of creating the event handling mock in the Postman</div>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/28%20postman%20mock%20card%20issued%202.png" alt="A screenshot of the second step of creating the event handling mock in the Postman">
</div>
<div class="title">Figure 13. A screenshot of the second step of creating the event handling mock in the Postman</div>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/29%20postman%20mock%20card%20issued%203.png" alt="A screenshot of the event handling mock in the Postman">
</div>
<div class="title">Figure 14. A screenshot of the event handling mock in the Postman</div>
</div>
</div>
<div class="sect2">
<h3 id="_configure_axon_synapse_to_send_events_to_the_mock_server"><a class="anchor" href="#_configure_axon_synapse_to_send_events_to_the_mock_server"></a>Configure Axon Synapse to send events to the mock server</h3>
<div class="paragraph">
<p>As with the other message types, you must register the event handler in Axon Synapse. Below is an example of the HTTP API approach.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-http hljs" data-lang="http"><i class="conum" data-value="1"></i><b>(1)</b> <i class="conum" data-value="2"></i><b>(2)</b> <i class="conum" data-value="3"></i><b>(3)</b>
POST http://localhost:8080/v1/contexts/default/handlers/events
Content-Type: application/json

{
  "names": [
    "io.axoniq.demo.giftcard.api.CardIssuedEvent" <i class="conum" data-value="4"></i><b>(4)</b>
  ],
  "endpoint": "https://1d5cae3d-b328-4565-a36b-2d4a49de79de.mock.pstmn.io/card-issued", <i class="conum" data-value="5"></i><b>(5)</b>
  "endpointType": "http-raw", <i class="conum" data-value="6"></i><b>(6)</b>
  "clientId": "Postman", <i class="conum" data-value="7"></i><b>(7)</b>
  "componentName": "Giftcard" <i class="conum" data-value="8"></i><b>(8)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>POST - indicates a POST request</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code><a href="http://localhost:8080" class="bare">http://localhost:8080</a></code> - the instance of Axon Synapse</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>v1/contexts/default/handlers/events</code> - creating an event handler</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><code>io.axoniq.demo.giftcard.api.CardIssuedEvent</code> - the event type</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>the event handler endpoint, in this example the Postman mock</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>the event handler endpoint type <em>(<code>http-raw</code> means the payload is in the request&#8217;s body)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>the unique identifier of the event handling application instance</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>the application of the application component</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Similarly to the earlier examples, you can use Synapse UI.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/30%20register%20event%20handler.png" alt="A screenshot of registering the event handling mock in the Synapse UI">
</div>
<div class="title">Figure 15. A screenshot of registering the event handling mock in the Synapse UI</div>
</div>
</div>
<div class="sect2">
<h3 id="_confirm_it_works_3"><a class="anchor" href="#_confirm_it_works_3"></a>Confirm it works</h3>
<div class="paragraph">
<p>As soon as you register the event handler, you should see the events in Postman&#8217;s mock server window.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/31%20event%20handling.png" alt="A screenshot of an event captured by the Postman mock">
</div>
<div class="title">Figure 16. A screenshot of an event captured by the Postman mock</div>
</div>
</div>
</div>
</div>
        <nav class="pagination">
  <span class="prev"><a href="postman-send.html">Send Messages With Postman</a></span>
</nav>
    </article>
  </div>
</main>
</div>
<footer class="footer">
  <div class="primary-footer">
    <div class="footer-logo ">
      <a href="https://axoniq.io/">
        <img src="https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=90&amp;height=20&amp;name=Logo%20AxonIQ%20(2).png" alt="Logo AxonIQ" loading="lazy" srcset="https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=45&amp;height=10&amp;name=Logo%20AxonIQ%20(2).png 45w, https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=90&amp;height=20&amp;name=Logo%20AxonIQ%20(2).png 90w, https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=135&amp;height=30&amp;name=Logo%20AxonIQ%20(2).png 135w, https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=180&amp;height=40&amp;name=Logo%20AxonIQ%20(2).png 180w, https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=225&amp;height=50&amp;name=Logo%20AxonIQ%20(2).png 225w, https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=270&amp;height=60&amp;name=Logo%20AxonIQ%20(2).png 270w" sizes="(max-width: 90px) 100vw, 90px" width="90" height="20">
      </a>
    </div>

    <div class="footer-menu">
	    <h3>Products</h3>
	    <div>
        <ul role="menu">
          <li><a class="ext" target="_blank" href="https://developer.axoniq.io/axon-framework/overview">Axon Framework</a></li>
          <li><a class="ext" target="_blank" href="https://developer.axoniq.io/axon-server/overview">Axon Server Standard</a></li>
          <li><a class="ext" target="_blank" href="https://developer.axoniq.io/axon-server-enterprise/overview">Axon Server Enterprise</a></li>
          <li><a class="ext" target="_blank" href="https://developer.axoniq.io/axoniq-cloud/overview">AxonIQ Cloud</a></li>
          <li><a class="ext" target="_blank" href="https://developer.axoniq.io/axon-data-protection/overview">AxonIQ Data Protection</a></li>
        </ul>
      </div>
    </div>

    <div class="footer-menu">
	    <h3>Sites</h3>
	    <div>
        <ul role="menu">
          <li><a class="ext" target="_blank" href="http://support.axoniq.io/"> Client Support Portal</a></li>
          <li><a class="ext" target="_blank" href="https://developer.axoniq.io/">AxonIQ Developer Portal</a></li>
          <li><a class="ext" target="_blank" href="https://academy.axoniq.io/">AxonIQ Academy</a></li>
          <li><a class="ext" target="_blank" href="https://discuss.axoniq.io/">AxonIQ Discuss</a></li>
          <li><a class="ext" target="_blank" href="https://start.axoniq.io/">AxonIQ Initializr</a></li>
          <li><a class="ext" target="_blank" href="https://console.cloud.axoniq.io">AxonIQ Cloud</a></li>
        </ul>
      </div>
    </div>

    <div class="footer-menu">
	    <h3>Follow us</h3>
	    <div>
        <ul role="menu">
          <li><a class="ext" target="_blank" href="https://www.youtube.com/axoniq">YouTube</a></li>
          <li><a class="ext" target="_blank" href="https://www.linkedin.com/company/axoniq">LinkedIn</a></li>
          <li><a class="ext" target="_blank" href="https://www.facebook.com/AxonIQ.io">Facebook</a></li>
          <li><a class="ext" target="_blank" href="https://twitter.com/axon_iq">Twitter</a></li>
          <li><a class="ext" target="_blank" href="https://github.com/AxonIQ">GitHub</a></li>
          <li><a class="ext" target="_blank" href="https://medium.com/axoniq">Medium</a></li>
        </ul>
      </div>
    </div>
  </div>
</footer>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script async src="../../_/js/vendor/page-actions.js"></script>
<script async src="../../_/js/vendor/tabs.js" data-sync-storage-key="preferred-tab" data-sync-storage-scope="session"></script>
<script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="100" data-stylesheet="../../_/css/search.css"></script>
<script async src="../../search-index.js"></script>
  </body>
</html>
