<!DOCTYPE html>
<html lang="en">
  <head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Docker Compose</title>
    <link rel="canonical" href="https://docs.axoniq.io/axon-server-installation/enterprise/docker-compose/">
    <link rel="prev" href="../ubuntu/">
    <link rel="next" href="../kubernetes/">
    <meta name="generator" content="Antora 3.1.10">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="stylesheet" href="../../../_/css/vendor/tabs.css">
    <link rel="icon" href="../../../_/img/favicon.ico" sizes="32x32">
    <link rel="icon" href="../../../_/img/icon.svg" type="image/svg+xml" media="(prefers-color-scheme: light)">
    <link rel="icon" href="../../../_/img/icon-light.svg" type="image/svg+xml" media="(prefers-color-scheme: dark)">
    <link rel="apple-touch-icon" href="../../../_/img/apple-touch-icon.png"><!-- 180Ã—180 -->
    <link rel="manifest" href="../../../_/static/manifest.webmanifest">
        <!-- Google Tag Manager -->
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-5QD58ZB');</script>
        <!-- End Google Tag Manager -->

    <script>var uiRootPath = '../../../_'</script>


  </head>
  <body class="article">
    <div class="banner">
    <a href="https://console.axoniq.io">Manage and monitor your Axon Framework applications and Axon Server environments. <span class="banner_button" target="_blank">Try AxonIQ Console</span></a>
</div>    
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5QD58ZB"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://docs.axoniq.io"><img src="../../../_/img/logo-dark4x.png" class="header_logo" /></a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="../../../home/basics/">Basics</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="../../../home/guides/">Guides</a>
          <div class="navbar-dropdown card">
            <a class="navbar-item" href="../../../home/guides/axon-framework">Axon Framework</a>
            <a class="navbar-item" href="../../../home/guides/axon-server">Axon Server</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="../../../home/reference/">Reference</a>
          <div class="navbar-dropdown card">
                <a class="navbar-item" href="../../../axon-framework-reference/4.11/">Axon Framework</a>
                <a class="navbar-item" href="../../../axon-framework-extensions/">Axon Framework Extensions</a>
                <a class="navbar-item" href="../../../axon-server-reference/v2025.0/">Axon Server</a>
                <a class="navbar-item" href="../../../synapse-reference/v0.12/">Axon Synapse</a>
                <a class="navbar-item" href="../../../axoniq-console-reference/">AxonIQ Console</a>
          </div>
        </div>
      </div>
      <div class="navbar-end">
        <div class="navbar-item search hide-for-print">
          <div id="search-field" class="field">
            <input id="search-input" type="text" placeholder="Search AxonIQ Docs">
          </div>
        </div>
        <a class="navbar-item navbar-button" href="https://academy.axoniq.io" target="_blank">AxonIQ Academy</a>
        <a class="navbar-item navbar-button" href="https://discuss.axoniq.io" target="_blank">AxonIQ Discuss</a>
        <a class="navbar-item navbar-button" href="https://axoniq.io/contact" target="_blank">Get in touch</a>
      </div>
    </div>
  </nav>
</header>
    <div class="toolbar card" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../home/" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../">Axon Server Installation </a></li>
    <li><a href="../">Enterprise</a></li>
    <li><a href="./">Docker Compose</a></li>
  </ul>
</nav>
<div class="page-actions">
  <button class="actions-menu-toggle" title="Show actions related to this page">Actions</button>
  <div class="actions-menu toolbar_dropdown_menu card">
      <a class="action item" href="https://github.com/AxonIQ/axoniq-library-site/edit/main/content/axon-server-installation-guides/modules/ROOT/pages/enterprise/docker-compose.adoc">Edit this Page</a>
    
    <a class="action item" href="https://discuss.axoniq.io/search?q&#x3D;Docker%20Compose" target="discuss_search">View Discussions</a>
    <a class="action item" href="https://discuss.axoniq.io/new-topic?category&#x3D;library&amp;title&#x3D;%22Docker%20Compose%22%20Discussion&amp;body&#x3D;%3C!--%20Replace%20this%20comment%20with%20your%20comment%2Fsuggestion%2Fquestion%2F...%20--%3E%0A%0A%0A%3C!--%0AKeep%20the%20section%20below!%0ALinking%20back%20to%20the%20documentation%20URL%20not%20only%20helps%20people%20go%20to%20the%20page%0Abut%20also%20helps%20find%20relevant%20discussions%20from%20the%20documentation%20page%20via%20the%20%22View%20Discussion%22%20menu.%0A--%3E%0A%5Bdetails%3D%22Related%20library%20page%22%5D%0A%5BDocker%20Compose%5D(https%3A%2F%2Fdocs.axoniq.io%2Faxon-server-installation%2Fenterprise%2Fdocker-compose%2F)%0A%5B%2Fdetails%5D%0A" target="discuss_add">Start new discussion</a>
  </div>
</div>


</div>
    <div class="content_container">
      <div class="body">
<div class="nav-container" data-component="axon-server-installation" data-version="master">
    <aside class="nav card">
      <div class="panels">
        <div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../">Axon Server Installation</a></h3>

<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../developer/">AxonIQ Developer</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../developer/download/">Download</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../developer/ubuntu/">Ubuntu</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../developer/docker/">Docker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../developer/docker-compose/">Docker Compose</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../developer/kubernetes/">Kubernetes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../professional/">AxonIQ Professional</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../professional/download/">Download</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../professional/ubuntu/">Ubuntu</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../professional/docker-compose/">Docker Compose</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../professional/kubernetes/">Kubernetes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../">Enterprise</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../download/">Download</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ubuntu/">Ubuntu</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="./">Docker Compose</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../kubernetes/">Kubernetes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../migrations/">Migrations</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
      </div>
    </aside>
</div>
<main class="article">
    <div class="page_content">
        <aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
          <article class="doc">
                <h1 class="page">Docker Compose</h1>
            <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Axon Server can be run using Docker Compose. This guide will show you how to set up an Axon Server cluster
using Docker Compose.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_1_verify_installation"><a class="anchor" href="#_step_1_verify_installation"></a>Step 1: Verify installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Make sure you have Docker and Docker Compose installed on your machine.
You can verify this by running the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">docker version
docker compose version</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see an output like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">Docker version 24.0.2, build cb74dfc
Docker Compose version v2.19.1</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Older versions of docker uses a separate executable, called <code>docker-compose</code>. If you have an older version, you can use the <code>docker-compose</code> command instead of <code>docker compose</code>. You can check this by running <code>docker-compose version</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you cannot execute the commands successfully, we recommend following the <a href="https://docs.docker.com/get-docker/">docker setup guide</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_2_axoniq_console"><a class="anchor" href="#_step_2_axoniq_console"></a>Step 2: AxonIQ Console</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can obtain the console access token by following these steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log into AxonIQ Console.</p>
</li>
<li>
<p>If this is your first time logging in, you will be prompted to enter your name. After this, your own Workspace will be created automatically</p>
</li>
<li>
<p>Go to the Axon Server page via the left menu</p>
</li>
<li>
<p>In the sidebar on the right, click "Manage access tokens" to open access token management</p>
</li>
<li>
<p>Click the button under "Show Token" to reveal your unique access token</p>
</li>
</ol>
</div>
<div class="videoblock">
<div class="content">
<iframe width="600" height="400" src="https://www.youtube.com/embed/HZOOZP8BtdI?rel=0" frameborder="0" allowfullscreen></iframe>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_3_choose_your_image_optional"><a class="anchor" href="#_step_3_choose_your_image_optional"></a>Step 3: Choose your image (optional)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>AxonIQ provides ready-to-use <a href="https://hub.docker.com/r/axoniq/axonserver">Axon Server images</a>.
In this guide, we will use the <code>latest-jdk-17</code> image.
For a guide on all images, and how to make your own, see <a href="../../extra/choosing-docker-image/" class="xref page">choosing and building your own Docker image</a>.
If you choose to do this, replace the image in the commands below.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_step_4_create_the_file"><a class="anchor" href="#_step_4_create_the_file"></a>Step 4: Create the file</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We can now define the <code>docker-compose.yaml</code> that specifies how docker containers should be created.</p>
</div>
<div class="paragraph">
<p>Create a new folder, and put the following content in the <code>docker-compose.yaml</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>      - axoniq_axonserver_autocluster_first=axonserver-1
      - axoniq_axonserver_autocluster_contexts=_admin,default
    volumes:
      - ./axoniq-server.license:/axonserver/config/axoniq.license
      - axoniq_axonserver_autocluster_first=axonserver-1
      - axoniq_axonserver_autocluster_contexts=_admin,default
    volumes:
      - ./axoniq-server.license:/axonserver/config/axoniq.license
      - axoniq_axonserver_autocluster_first=axonserver-1
      - axoniq_axonserver_autocluster_contexts=_admin,default
    volumes:
      - ./axoniq-server.license:/axonserver/config/axoniq.license</pre>
</div>
</div>
<div class="paragraph">
<p>Both the <code>name</code> and <code>internal-hostname</code> are set to <code>axonserver-1</code>, <code>axonserver-2</code>, and <code>axonserver-3</code> respectively.
However, the <code>hostname</code> is set to <code>localhost</code>, so framework applications can connect to the Axon Server nodes without running in Docker.
If you decide to add Axon Framework services to the Docker Compose file, set the <code>hostname</code> to the same value as the <code>internal-hostname</code>.
For more information, see the <a href="../../extra/hosts-and-connections/" class="xref page">hosts and connections guide</a>.</p>
</div>
<div class="paragraph">
<p>This docker-compose will create three Axon Server nodes, each with a different port exposed for the dashboard, client, and cluster ports.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This docker-compose file is for demonstration purposes only. It is not suitable for production use.
For example, the volumes are not persistent. You will lose data after running <code>docker compose down</code>.
For more information, see the <a href="../../extra/persistent-docker-compose-data/" class="xref page">persistent Docker Compose data guide</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_next_steps"><a class="anchor" href="#_next_steps"></a>Next steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The steps in this guide do not take into account any security, authentication or authorization.
If you would like to set this up, please follow the <a href="../../extra/securing-axon-server/" class="xref page">Securing Axon Server</a> guide.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ready_to_connect"><a class="anchor" href="#_ready_to_connect"></a>Ready to connect</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now that you have your Axon Servers running, you can start using it with your Axon Framework applications.</p>
</div>
<div class="paragraph">
<p>Your Axon Framework applications should list all nodes of Axon Server in their properties file,
so that if one node goes down, the application can still connect to the other nodes initially.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">axon.axonserver.servers=axonserver-1:8124,axon-server-2:8124,axon-server-3:8124</code></pre>
</div>
</div>
<div class="paragraph">
<p>Please replace the <code>axonserver-1</code>, <code>axon-server-2</code>, and <code>axon-server-3</code> with the hostnames of your Axon Server nodes.
And replace <code>8124</code> with the gRPC port of your Axon Server nodes if you customized this.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_next_steps_2"><a class="anchor" href="#_next_steps_2"></a>Next steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The steps in this guide do not take into account any security, authentication or authorization.
If you would like to set this up, please follow the <a href="../../extra/securing-axon-server/" class="xref page">Securing Axon Server</a> guide.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ready_to_connect_2"><a class="anchor" href="#_ready_to_connect_2"></a>Ready to connect</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now that you have your Axon Servers running, you can start using it with your Axon Framework applications.</p>
</div>
<div class="paragraph">
<p>Your Axon Framework applications should list all nodes of Axon Server in their properties file,
so that if one node goes down, the application can still connect to the other nodes initially.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">axon.axonserver.servers=localhost:8124,localhost:8125,localhost:8126</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you are running your Axon Framework applications in Docker, you should replace <code>localhost</code> with the <code>internal-hostname</code> of the Axon Server nodes,
and configure the <code>hostname</code> of the Axon Server nodes to the same value as the <code>internal-hostname</code> (see step 4, or the <a href="../../extra/hosts-and-connections/" class="xref page">hosts and connections guide</a>).</p>
</div>
</div>
</div>
        <nav class="pagination">
  <span class="prev"><a href="../ubuntu/">Ubuntu</a></span>
  <span class="next"><a href="../kubernetes/">Kubernetes</a></span>
</nav>
    </article>
  </div>
</main>
</div>
      <footer class="footer">
  <div class="primary-footer">
    <div class="footer-logo ">
      <a href="https://axoniq.io/">
        <img src="https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=90&amp;height=20&amp;name=Logo%20AxonIQ%20(2).png" alt="Logo AxonIQ" loading="lazy" srcset="https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=45&amp;height=10&amp;name=Logo%20AxonIQ%20(2).png 45w, https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=90&amp;height=20&amp;name=Logo%20AxonIQ%20(2).png 90w, https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=135&amp;height=30&amp;name=Logo%20AxonIQ%20(2).png 135w, https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=180&amp;height=40&amp;name=Logo%20AxonIQ%20(2).png 180w, https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=225&amp;height=50&amp;name=Logo%20AxonIQ%20(2).png 225w, https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=270&amp;height=60&amp;name=Logo%20AxonIQ%20(2).png 270w" sizes="(max-width: 90px) 100vw, 90px" width="90" height="20">
      </a>
    </div>

    <div class="footer-menu">
	    <h3>Products</h3>
	    <div>
        <ul role="menu">
          <li><a class="ext" target="_blank" href="https://www.axoniq.io/products/axon-framework">Axon Framework</a></li>
          <li><a class="ext" target="_blank" href="https://www.axoniq.io/products/axon-server">Axon Server</a></li>
          <li><a class="ext" target="_blank" href="https://www.axoniq.io/products/axoniq-console">AxonIQ Console</a></li>
          <li><a class="ext" target="_blank" href="https://www.axoniq.io/blog/protect-sensitive-data-in-an-event-sourced-application">AxonIQ Data Protection</a></li>
        </ul>
      </div>
    </div>

    <div class="footer-menu">
	    <h3>Sites</h3>
	    <div>
        <ul role="menu">
          <li><a class="ext" target="_blank" href="http://support.axoniq.io/">Customer Support Portal</a></li>
          <li><a class="ext" target="_blank" href="https://academy.axoniq.io/">AxonIQ Academy</a></li>
          <li><a class="ext" target="_blank" href="https://console.axoniq.io/">AxonIQ Console</a></li>
          <li><a class="ext" target="_blank" href="https://discuss.axoniq.io/">AxonIQ Discuss</a></li>
        </ul>
      </div>
    </div>

    <div class="footer-menu">
	    <h3>Follow us</h3>
	    <div>
        <ul role="menu">
          <li><a class="ext" target="_blank" href="https://www.youtube.com/axoniq">YouTube</a></li>
          <li><a class="ext" target="_blank" href="https://www.linkedin.com/company/axoniq">LinkedIn</a></li>
          <li><a class="ext" target="_blank" href="https://github.com/AxonIQ">GitHub</a></li>
          <li><a class="ext" target="_blank" href="https://axoniq.bsky.social/">Bluesky</a></li>
        </ul>
      </div>
    </div>

    <div class="footer-menu">
	    <h3>&nbsp;</h3>
	    <div>
        <ul role="menu">
          <li><a class="ext" target="_blank" href="https://www.instagram.com/axoniq/">Instagram</a></li>
          <li><a class="ext" target="_blank" href="https://www.facebook.com/AxonIQ.io">Facebook</a></li>
          <li><a class="ext" target="_blank" href="https://twitter.com/axon_iq">Twitter</a></li>
          <li><a class="ext" target="_blank" href="https://medium.com/axoniq">Medium</a></li>
        </ul>
      </div>
    </div>

  </div>
</footer>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script async src="../../../_/js/vendor/page-actions.js"></script>
<script async src="../../../_/js/vendor/tabs.js" data-sync-storage-key="preferred-tab" data-sync-storage-scope="session"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>
    </div>
  </body>
</html>
