<!DOCTYPE html>
<html lang="en">
  <head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Backups</title>
    <link rel="canonical" href="https://docs.axoniq.io/axon-server-reference/development/axon-server/administration/backups/">
    <link rel="prev" href="../tagging/">
    <link rel="next" href="../recovery/">
    <meta name="generator" content="Antora 3.1.10">
    <link rel="stylesheet" href="../../../../../_/css/site.css">
    <link rel="stylesheet" href="../../../../../_/css/vendor/tabs.css">
    <link rel="icon" href="../../../../../_/img/favicon.png" sizes="32x32">
    <link rel="apple-touch-icon" href="../../../../../_/img/favicon.png"><!-- 180×180 -->
    <link rel="manifest" href="../../../../../_/static/manifest.webmanifest">

        <!-- Google Tag Manager -->
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-5QD58ZB');</script>
        <!-- End Google Tag Manager -->

    <script>var uiRootPath = '../../../../../_'</script>


<link rel="icon" href="../../../../../_/img/favicon.png" type="image/png">
  </head>
  <body class="article">
    <div class="header_container">
      
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5QD58ZB"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://docs.axoniq.io">
        <img src="../../../../../_/img/docs-logo.png" class="header_logo"/>
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-center">
        <a class="navbar-item" href="../../../../../home/basics/">Basics</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="../../../../../home/guides/">Guides</a>
          <div class="navbar-dropdown card">
            <a class="navbar-item" href="../../../../../home/guides/axon-framework">Axon Framework</a>
            <a class="navbar-item" href="../../../../../home/guides/axon-server">Axon Server</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="../../../../../home/reference/">Reference</a>
          <div class="navbar-dropdown card">
                <a class="navbar-item" href="../../../../../axon-framework-reference/4.11/">Axon Framework</a>
                <a class="navbar-item" href="../../../../../axon-framework-extensions/">Axon Framework Extensions</a>
                <a class="navbar-item" href="../../../">Axon Server</a>
                <a class="navbar-item" href="../../../../../synapse-reference/v0.12/">Axon Synapse</a>
                <a class="navbar-item" href="../../../../../axoniq-platform-reference/">Axoniq Platform</a>
          </div>
        </div>
      </div>
      <div class="navbar-end">
          <div class="navbar-item search hide-for-print">
            <div id="search-field" class="field">
              <input id="search-input" type="text" placeholder="Search AxonIQ Docs">
            </div>
          </div>
        <a class="navbar-item navbar-button" href="https://platform.axoniq.io" target="_blank">Axoniq Platform</a>
      </div>
    </div>
  </nav>
</header>
      <div class="toolbar card" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../../home/" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../../">Axon Server Reference</a></li>
    <li><a href="../">Administration</a></li>
    <li><a href="./">Backups</a></li>
  </ul>
</nav>
<div class="page-actions">
  <button class="actions-menu-toggle" title="Show actions related to this page">Actions</button>
  <div class="actions-menu toolbar_dropdown_menu card">

    <a class="action item" href="https://discuss.axoniq.io/search?q&#x3D;Backups" target="discuss_search">View Discussions</a>
    <a class="action item" href="https://discuss.axoniq.io/new-topic?category&#x3D;library&amp;title&#x3D;%22Backups%22%20Discussion&amp;body&#x3D;%3C!--%20Replace%20this%20comment%20with%20your%20comment%2Fsuggestion%2Fquestion%2F...%20--%3E%0A%0A%0A%3C!--%0AKeep%20the%20section%20below!%0ALinking%20back%20to%20the%20documentation%20URL%20not%20only%20helps%20people%20go%20to%20the%20page%0Abut%20also%20helps%20find%20relevant%20discussions%20from%20the%20documentation%20page%20via%20the%20%22View%20Discussion%22%20menu.%0A--%3E%0A%5Bdetails%3D%22Related%20library%20page%22%5D%0A%5BBackups%5D(https%3A%2F%2Fdocs.axoniq.io%2Faxon-server-reference%2Fdevelopment%2Faxon-server%2Fadministration%2Fbackups%2F)%0A%5B%2Fdetails%5D%0A" target="discuss_add">Start new discussion</a>
  </div>
</div>


<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">development</button>
  <div class="version-menu toolbar_dropdown_menu card">
    <a class="version item is-current" href="./">development</a>
    <a class="version item" href="../../../../v2025.2/axon-server/administration/backups/">v2025.2</a>
    <a class="version item" href="../../../../v2025.1/axon-server/administration/backups/">v2025.1</a>
    <a class="version item" href="../../../../v2025.0/axon-server/administration/backups/">v2025.0</a>
    <a class="version item" href="../../../../v2024.2/axon-server/administration/backups/">v2024.2</a>
    <a class="version item" href="../../../../v2024.1/axon-server/administration/backups/">v2024.1</a>
    <a class="version item is-missing" href="../../../../0/">older releases</a>
  </div>
</div>
</div>
    </div>
    <div class="content_container">
      <div class="body">
<div class="nav-container" data-component="axon-server-reference" data-version="development">
    <aside class="nav card">
      <div class="panels">
        <div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../../">Axon Server</a></h3>

<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../../">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../installation/">Installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../installation/local-installation/">Local installation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../installation/docker-k8s/">Docker / K8s</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../">Administration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../admin-configuration/">Configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../admin-configuration/configuration/">System properties</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../admin-configuration/command-line-interface/">Command Line Interface</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../admin-configuration/rest-api/">REST API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../admin-configuration/grpc-api/">gRPC API</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../monitoring/">Monitoring</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../monitoring/actuator-endpoints/">Actuator Endpoints</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../monitoring/axon-server-metrics/">Axon Server Metrics</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../monitoring/grpc-metrics/">gRPC Metrics</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../monitoring/heartbeat-monitoring/">Heartbeat Monitoring</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../monitoring/diagnostics/">Diagnostics</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../multi-context/">Multi-Context</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tiered-storage/">Tiered Storage</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../event-transformation/">Event Transformation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tagging/">Tagging</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="./">Backups</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../recovery/">Recovery</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugins/">Axon Server Plugins</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../persistent-streams/">Persistent Streams</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../logging/">Logging</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../logging/logging-format/">Logging Format</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../error-codes/">Error Codes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../integration/">Integrations</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../openapi/integration-api/">Axon Server Integration HTTP API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../../openapi/integration-outbound-api/">Axon Server Outbound HTTP API</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../analytics-nodes/">Analytics Nodes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../clustering/">Clustering</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../clustering/cluster-basics/">Cluster Basics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../clustering/node-roles/">Node Roles</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../clustering/replication-groups/">Replication Groups</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../clustering/replication-logs/">Replication Logs</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../security/">Security</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../security/ssl/">SSL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../security/access-control-ee/">Access Control for Axon Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../security/access-control-clients/">Security for Axon Framework Client Applications</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../security/access-control-cli/">Access Control and the CLI</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../security/access-control-api/">Access Control on the REST and gRPC APIs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../security/access-control-ldap/">Axon Server EE - LDAP Extension</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../security/access-control-oauth2/">Axon Server EE - OAuth Extension</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../performance/">Performance</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../performance/tuning-event-processing/">Event Segments</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../performance/flow-control/">Flow Control</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../migration/">Migration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../migration/non-axon-server-to-axon-server/">Non-Axon Server to Axon Server</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../architecture/">Architecture</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../architecture/config-database/">Config Database</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../troubleshooting/">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../../release-notes/">Release Notes</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../rn-as-major-releases/">Major Releases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../../rn-as-minor-releases/">Patch Releases</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
      </div>
    </aside>
</div>
<main class="article">
    <div class="page_content">
        <aside class="toc sidebar" data-title="Page content" data-levels="2">
  <div class="toc-menu"></div>
</aside>
          <article class="doc">
                <h1 class="page">Backups</h1>
            <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><!-- vale Google.Passive = NO -->
<!-- vale Google.Will = NO -->
<!-- vale Google.We = NO -->
<!-- vale Google.EnDash = NO -->
<!-- vale AxonIQ.Headings = NO --></p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Before proceeding with backing up Axon Server, ensure you have thoroughly read through this page and are
familiar with the backup procedure.
Practice the backup and restore procedures before disaster strikes.
Axoniq does not acknowledge any liability if a backup/restore fails due to a failure to follow the backup procedure.
Please ensure you have verified your backups by also testing the restore procedure.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This document describes how to <a href="#backup">backup</a> and <a href="#restore">restore</a> Axon Server.
Axon Server ensures durability by replicating its data across cluster nodes.</p>
</div>
<div class="paragraph">
<p>To increase data durability, Axon Server nodes can be placed in different availability zones.
Designated <a href="../../clustering/node-roles/" class="xref page">backup nodes</a> enable faster disaster recovery and an up-to-date copy of your data.</p>
</div>
<div class="paragraph">
<p>Regardless of clustering and backup nodes, offline backups remain a crucial part of your setup.
Steps to create reliable backups are outlined below.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="backup"><a class="anchor" href="#backup"></a>Backup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To support the creation of consistent backups, Axon Server provides an HTTP API.
The API documentation is accessible at <code>http://[server]:8024/swagger-ui/index.html</code> .</p>
</div>
<div class="paragraph">
<p>You need to back up the ConfigDB and the event store separately as described below.
As the ConfigDB refers to data stored in the append-only event store, it is paramount that the ConfigDB is backed up first.</p>
</div>
<div class="sect2">
<h3 id="control-database"><a class="anchor" href="#control-database"></a>Config database</h3>
<div class="paragraph">
<p>The ConfigDB contains important runtime configuration for your Axon Server deployment, like users or roles.
A call to the POST endpoint <code>http://[server]/v1/backup/createControlDbBackup</code> creates a backup <code>.zip</code> file on disk and returns its path.
After calling the endpoint, you have to copy or move that file to your backup location.</p>
</div>
</div>
<div class="sect2">
<h3 id="event-store-segments"><a class="anchor" href="#event-store-segments"></a>Event store</h3>
<div class="paragraph">
<p>The event store contains your events, which make up the bulk of your backup size.
Axon Server uses several indices, which are also included in this backup.</p>
</div>
<div class="paragraph">
<p>Backup procedures differ between DCB-Contexts and non-DCB contexts.</p>
</div>
</div>
<div class="sect2">
<h3 id="event-stream-segments-dcb"><a class="anchor" href="#event-stream-segments-dcb"></a>DCB Event Store</h3>
<div class="paragraph">
<p>Backups for DCB contexts are currently only available in the push-variety, meaning Axon Server <strong>"pushes"</strong> data to a location.
We advise to have Axon Server push the backup into a mounted backup volume.</p>
</div>
<div class="paragraph">
<p>It is currently not supported for an external tool to <strong>"pull"</strong> data out of a live Axon Server node.
Of course you can pull data from the backup location after a backup has completed.</p>
</div>
</div>
<div class="sect2">
<h3 id="storage-considerations"><a class="anchor" href="#storage-considerations"></a>Storage considerations</h3>
<div class="paragraph">
<p>In the current backup implementation, storage requirements for the backup can be estimated as follows:
<code>currentSpaceInUseByRocksDBColumnFamilies * 2 + currentSpaceInUseByEvents + space used by update trackers (label and snapshots)</code></p>
</div>
</div>
<div class="sect2">
<h3 id="procedure"><a class="anchor" href="#procedure"></a>Procedure for backup</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Call the <code>/v2/backup</code> endpoint with arguments</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">  curl -X 'POST' \
    'http://127.0.0.1:8024/v2/backup' \
    -H 'Content-Type: application/json' \
    -d '{
    "context": "billing",
    "location": "/mnt/backups"
  }'</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will provide you with an id you can use to query progress of that backup, for example <code>1a39b69c-0ca4-42cd-b0ed-22ee3727402a</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Use the received ID to check the status of your backup.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl -X 'GET' \
  'http://127.0.0.1:8024/v2/backup/1a39b69c-0ca4-42cd-b0ed-22ee3727402a' \
  -H 'accept: */*'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once this endpoint returns <code>"backupState": "FINISHED"</code>, your backup has completed.</p>
</div>
<div class="sect3">
<h4 id="_non_dcb_event_store"><a class="anchor" href="#_non_dcb_event_store"></a>Non-DCB Event Store</h4>
<div class="paragraph">
<p>Axon Server exposes an HTTP endpoint <code>/v1/backup/eventstore</code> that can be used to gather files for backup.
This endpoint returns a JSON object with a list of paths.</p>
</div>
<div class="paragraph">
<p>It also returns a number <code>lastClosedSegment</code> that can be used in subsequent backup calls as <code>lastClosedSegmentBackedUp</code> to only receive changed files.
You are required to copy (with overwrite) all files returned by this endpoint, even if they exist in the target location.</p>
</div>
<div class="paragraph">
<p>The API documentation is accessible at <code>http://[server]:8024/swagger-ui/index.html</code></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tips_for_reliable_backups"><a class="anchor" href="#_tips_for_reliable_backups"></a>Tips for reliable backups</h3>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>To ensure integrity of your data, please adhere to the following guidelines:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Never modify files in the back up</p>
</li>
<li>
<p>Do not create a backup with the target path set to the live storage location</p>
</li>
<li>
<p>Use the correct backup endpoint for DCB and non-DCB contexts</p>
</li>
<li>
<p>If you restore a backup that is not the most recent one, all newer backups must be discarded</p>
</li>
</ul>
</div>
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="restore"><a class="anchor" href="#restore"></a>Restore</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We distinguish between restoring without any preexisting data, for example after a disaster destroyed the previous cluster entirely.
And restoring one or more contexts in a running cluster to a previous state.</p>
</div>
<div class="sect2">
<h3 id="_restore_with_no_pre_existing_data_on_disk"><a class="anchor" href="#_restore_with_no_pre_existing_data_on_disk"></a>Restore with no pre-existing data on disk</h3>
<div class="sect3">
<h4 id="restore-configdb"><a class="anchor" href="#restore-configdb"></a>ConfigDB</h4>
<div class="paragraph">
<p>If you backed up the ConfigDB, you can restore the ConfigDB so your restored cluster has the same configuration as when the backup was taken.
For this, you <strong>need</strong> to make sure, that each node gets restored the ConfigDB backed up for that node.
In particular, this requires that the hostname of the node after the restore is exactly the same as before.
If that cannot be achieved, refer to the <a href="../recovery/" class="xref page">recovery procedure</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="restore-event-store"><a class="anchor" href="#restore-event-store"></a>Event store</h4>
<div class="paragraph">
<p>The event store can be restored to all nodes from one copy in the backup location.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Copy the events folder from the backup to the location defined by <code>axoniq.axonserver.event.storage</code></p>
</li>
<li>
<p>Copy the snapshots folder from the backup to the location defined by <code>axoniq.axonserver.snapshot.storage</code></p>
</li>
<li>
<p>Ensure the license and properties file and (optionally) a cluster-template is present when starting Axon Server.</p>
</li>
<li>
<p>Start Axon Server</p>
</li>
<li>
<p>Create a replication group and the contexts that match the context named from your backup if not already covered by your cluster-template.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="restore-running-cluster"><a class="anchor" href="#restore-running-cluster"></a>Restore in a running cluster</h3>
<div class="paragraph">
<p>In this case we assume you want to restore one or more contexts into a running axonserver cluster.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
This is for emergency use only, as a restore will undo everything <strong>within</strong> the system that has happened since the backup.
It will <strong>not</strong> undo all side effects your system might have caused.
If there were only some wrong events published, compensating actions or in worse case,  <a href="../event-transformation/" class="xref page">event transformation</a> might be  less intrusive countermeasures.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As the cluster is still running, no restore of the ConfigDB is necessary.</p>
</div>
<div class="paragraph">
<p>Steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Delete replication groups of affected contexts with preserving data</p>
</li>
<li>
<p>Delete the context folder as specified by <code>axoniq.axonserver.event.storage</code> and <code>axoniq.axonserver.snapshot.storage</code></p>
</li>
<li>
<p>Copy the backup data (events and snapshots)</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Copy the events folder from the backup to the location defined by <code>axoniq.axonserver.event.storage</code></p>
</li>
<li>
<p>Copy the snapshots folder from the backup to the location defined by <code>axoniq.axonserver.snapshot.storage</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Create new replication groups</p>
</li>
<li>
<p>Create contexts with their previous names</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For detailed examples and more sophisticated restore procedures, see <a href="../advanced-backups/" class="xref page">advanced backups</a>.</p>
</div>
</div>
</div>
</div>
        <nav class="pagination">
  <span class="prev"><a href="../tagging/">Tagging</a></span>
  <span class="next"><a href="../recovery/">Recovery</a></span>
</nav>
    </article>
  </div>
</main>
</div>
      <footer class="footer">
  <div class="secondary-footer">
    <p>Copyright © 2025 AxonIQ BV. All Rights Reserved</p>
    <img referrerpolicy="no-referrer-when-downgrade" src="https://static.scarf.sh/a.png?x-pxid=e0b2b5cb-139e-4753-acab-bae43f90c5d3" />
  </div>
</footer>
<script id="site-script" src="../../../../../_/js/site.js" data-ui-root-path="../../../../../_"></script>
<script async src="../../../../../_/js/vendor/highlight.js"></script>
<script async src="../../../../../_/js/vendor/page-actions.js"></script>
<script async src="../../../../../_/js/vendor/tabs.js" data-sync-storage-key="preferred-tab" data-sync-storage-scope="session"></script>
<script src="../../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../../.." data-snippet-length="100" data-stylesheet="../../../../../_/css/search.css"></script>
<script async src="../../../../../search-index.js"></script>
    </div>
  </body>
</html>
