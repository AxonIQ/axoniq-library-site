<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Distributed Tracing</title>
    <link rel="prev" href="../">
    <link rel="next" href="../metrics/">
    <meta name="generator" content="Antora 3.1.10">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <link rel="stylesheet" href="../../../../_/css/vendor/tabs.css">
    <link rel="icon" href="../../../../_/img/favicon.ico" sizes="32x32">
    <link rel="icon" href="../../../../_/img/icon.svg" type="image/svg+xml" media="(prefers-color-scheme: light)">
    <link rel="icon" href="../../../../_/img/icon-light.svg" type="image/svg+xml" media="(prefers-color-scheme: dark)">
    <link rel="apple-touch-icon" href="../../../../_/img/apple-touch-icon.png"><!-- 180Ã—180 -->
    <link rel="manifest" href="../../../../_/static/manifest.webmanifest">
        <!-- Google Tag Manager -->
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-5QD58ZB');</script>
        <!-- End Google Tag Manager -->

    <script>var uiRootPath = '../../../../_'</script>


  </head>
  <body class="article">

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5QD58ZB"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://docs.axoniq.io"><img src="../../../../_/img/logo-dark4x.png" class="header_logo" /></a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="../../../../home/basics/">Basics</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="../../../../home/guides/">Guides</a>
          <div class="navbar-dropdown card">
            <a class="navbar-item" href="../../../../home/guides/axon-framework">Axon Framework</a>
            <a class="navbar-item" href="../../../../home/guides/axon-server">Axon Server</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="../../../../home/reference/">Reference</a>
          <div class="navbar-dropdown card">
                <a class="navbar-item" href="../../">Axon Framework</a>
                <a class="navbar-item" href="../../../../axon-framework-extensions/">Axon Framework Extensions</a>
                <a class="navbar-item" href="../../../../axon-server-reference/v2024.2/">Axon Server</a>
                <a class="navbar-item" href="../../../../synapse-reference/v0.11/">Axon Synapse</a>
                <a class="navbar-item" href="../../../../axoniq-console-reference/">AxonIQ Console</a>
          </div>
        </div>
      </div>
      <div class="navbar-end">
        <div class="navbar-item search hide-for-print">
          <div id="search-field" class="field">
            <input id="search-input" type="text" placeholder="Search AxonIQ Docs">
          </div>
        </div>
        <a class="navbar-item navbar-button" href="https://academy.axoniq.io" target="_blank">AxonIQ Academy</a>
        <a class="navbar-item navbar-button" href="https://discuss.axoniq.io" target="_blank">AxonIQ Discuss</a>
        <a class="navbar-item navbar-button" href="https://console.axoniq.io" target="_blank">AxonIQ Console</a>
      </div>
    </div>
  </nav>
</header>
<div class="toolbar card" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../home/" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../">Axon Framework Reference</a></li>
    <li><a href="../">Monitoring</a></li>
    <li><a href="./">Distributed Tracing</a></li>
  </ul>
</nav>
<div class="page-actions">
  <button class="actions-menu-toggle" title="Show actions related to this page">Actions</button>
  <div class="actions-menu toolbar_dropdown_menu card">
      <a class="action item" href="https://github.com/AxonFramework/AxonFramework/edit/master/docs/old-reference-guide/modules/monitoring/pages/tracing.adoc">Edit this Page</a>
    
    <a class="action item" href="https://discuss.axoniq.io/search?q&#x3D;Distributed%20Tracing" target="discuss_search">View Discussions</a>
    <a class="action item" href="https://discuss.axoniq.io/new-topic?category&#x3D;library&amp;title&#x3D;%22Distributed%20Tracing%22%20Discussion&amp;body&#x3D;%3C!--%20Replace%20this%20comment%20with%20your%20comment%2Fsuggestion%2Fquestion%2F...%20--%3E%0A%0A%0A%3C!--%0AKeep%20the%20section%20below!%0ALinking%20back%20to%20the%20documentation%20URL%20not%20only%20helps%20people%20go%20to%20the%20page%0Abut%20also%20helps%20find%20relevant%20discussions%20from%20the%20documentation%20page%20via%20the%20%22View%20Discussion%22%20menu.%0A--%3E%0A%5Bdetails%3D%22Related%20library%20page%22%5D%0A%5BDistributed%20Tracing%5D(https%3A%2F%2Fdocs.axoniq.io%2Faxon-framework-reference%2Fdevelopment%2Fmonitoring%2Ftracing%2F)%0A%5B%2Fdetails%5D%0A" target="discuss_add">Start new discussion</a>
  </div>
</div>


<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">development</button>
  <div class="version-menu toolbar_dropdown_menu card">
    <a class="version item is-current" href="./">development</a>
    <a class="version item" href="../../../4.10/monitoring/tracing/">4.10</a>
    <a class="version item is-missing" href="../../../0/">older releases</a>
  </div>
</div>
</div>
<div class="body">
<div class="nav-container" data-component="axon-framework-reference" data-version="development">
    <aside class="nav card">
      <div class="panels">
        <div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../">Axon Framework</a></h3>

<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../upgrading-to-4-7/">Upgrading to Axon Framework 4.7</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../messaging-concepts/">Messaging Concepts</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../messaging-concepts/anatomy-message/">Anatomy of a Message</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../messaging-concepts/message-correlation/">Message Correlation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../messaging-concepts/message-intercepting/">Message Intercepting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../messaging-concepts/supported-parameters-annotated-handlers/">Supported Parameters for Annotated Handlers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../messaging-concepts/exception-handling/">Exception Handling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../messaging-concepts/unit-of-work/">Unit of Work</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../axon-framework-commands/">Commands</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../axon-framework-commands/command-handlers/">Handling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../axon-framework-commands/command-dispatchers/">Dispatching</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../axon-framework-commands/modeling/aggregate/">Aggregates</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../axon-framework-commands/modeling/multi-entity-aggregates/">Multi-Entity Aggregates</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../axon-framework-commands/modeling/state-stored-aggregates/">State Stored Aggregates</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../axon-framework-commands/modeling/aggregate-creation-from-another-aggregate/">Aggregate Creation from another Aggregate</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../axon-framework-commands/modeling/aggregate-polymorphism/">Aggregate Polymorphism</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../axon-framework-commands/modeling/conflict-resolution/">Conflict Resolution</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../axon-framework-commands/infrastructure/">Infrastructure</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../axon-framework-commands/configuration/">Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../events/">Events</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../events/event-handlers/">Handling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../events/event-dispatchers/">Dispatching</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../events/event-processors/">Event Processors</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../events/event-processors/subscribing/">Subscribing Event Processor</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../events/event-processors/streaming/">Streaming Event Processor</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../events/event-processors/dead-letter-queue/">Dead-Letter Queue</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../events/infrastructure/">Infrastructure</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../events/event-versioning/">Event Versioning</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../queries/">Queries</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../queries/query-handlers/">Handling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../queries/query-dispatchers/">Dispatching</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../queries/implementations/">Implementations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../queries/configuration/">Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../sagas/">Sagas</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../sagas/implementation/">Implementation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../sagas/associations/">Associations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../sagas/infrastructure/">Infrastructure</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../deadlines/">Deadlines</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../deadlines/deadline-managers/">Deadline Managers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../deadlines/event-schedulers/">Event Schedulers</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../testing/">Testing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../testing/commands-events/">Commands / Events</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../testing/sagas-1/">Sagas</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../serialization/">Serialization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../tuning/">Tuning</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tuning/event-snapshots/">Event Snapshots</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tuning/event-processing/">Event Processing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tuning/command-processing/">Command Processing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tuning/rdbms-tuning/">Relational Databases</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../">Monitoring</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="./">Distributed Tracing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../metrics/">Metrics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../health/">Health Indicators</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../processors/">Event Processor Monitoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../message-tracking/">Message Tracking</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../spring-boot-integration/">Spring Boot Integration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../modules/">Modules</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../release-notes/">Release Notes</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../release-notes/major-releases/">Major Releases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../release-notes/minor-releases/">Minor Releases</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../known-issues-and-workarounds/">Known Issues and Workarounds</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
      </div>
    </aside>
</div>
<main class="article">
    <div class="content">
        <aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
          <article class="doc">
            <h1 class="page">Distributed Tracing</h1>
            <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Distributed Tracing enables you to track the path of a message through your system to see how the system behaves and performs.
Axon Framework provides additional tracing functionality to track what takes time in your microservice, such as how long it took to load the aggregate, how long the actual command invocation took, or how long it took to publish events.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><strong>OpenTracing deprecation warning</strong></p>
</div>
<div class="paragraph">
<p>The <a href="../../../../tracing-extension-reference/4.10/" class="xref page">OpenTracing extension</a> works in a different way than described on this page.
Its functionality is limited and will not be updated to include the additional functionality described on this page.
The OpenTracing standard itself is deprecated, please consider moving to OpenTelemetry instead.</p>
</div>
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_span_factories"><a class="anchor" href="#_span_factories"></a>Span factories</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To provide additional insights in traces, many Axon Framework components use a <code>SpanFactory</code>.
This factory is responsible for the creation of multiple instances of a <code>Span</code> with a specific purpose.</p>
</div>
<div class="paragraph">
<p>You can use a <code>SpanFactory</code> provided the framework that matches your tracing standard.
Or, if your tracing standard of choice is not supported, you can create one yourself by implementing the <code>SpanFactory</code> and <code>Span</code> interfaces.
The following standards are currently supported:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Tracing standard</th>
<th class="tableblock halign-left valign-top">Supported</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenTelemetry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://opentelemetry.io/docs/concepts/what-is-opentelemetry/">OpenTelemetry</a> is the successor of OpenTracing, with auto-instrumentation being its most prominent feature.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenTracing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limited</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://opentracing.io/">OpenTracing</a> is supported <a href="../../../../tracing-extension-reference/4.10/" class="xref page">by an extension with limited functionality</a>. Usage of OpenTelemetry is recommended instead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SLF4j</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If you have no monitoring system in place but want to trace through logging, the framework provides a <code>LoggingSpanFactory</code>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You configure a <code>SpanFactory</code> in the following ways:</p>
</div>
<div class="sect3">
<h4 id="_axon_configuration_api"><a class="anchor" href="#_axon_configuration_api"></a>Axon Configuration API</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class AxonConfig {
    // omitting other configuration methods...
    public void configure(Configurer configurer) {
        configurer.configureSpanFactory(configuration -&gt; new MyCustomSpanFactory());
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_spring_boot_auto_configuration"><a class="anchor" href="#_spring_boot_auto_configuration"></a>Spring Boot auto configuration</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Configuration
public class AxonConfig {
    // omitting other configuration methods...
    @Bean
    public SpanFactory spanFactory() {
        // Any bean implementing the SpanFactory will be picked up automatically and override the defaults
        return new MyCustomSpanFactory();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that this is not necessary for all providers, since some may provide Spring Boot auto-configuration out of the box.
To configure the provider of your choice, please refer to the specific subsection on this page.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_terminology"><a class="anchor" href="#_terminology"></a>Terminology</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <strong>trace</strong> is a collection of one or more <strong>spans</strong> that together form a complete journey through your software.
Creating a span that is not part of a trace will automatically create one with that span being the root span of the trace.</p>
</div>
<div class="paragraph">
<p>Tools such as <a href="https://www.elastic.co/observability/application-performance-monitoring">ElasticSearch APM</a> can render tracing information, as visible in the following image:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/tracing.png" alt="Trace as shown in ElasticSearch APM when dispatching and handling a command.">
</div>
</div>
<div class="paragraph">
<p>What we observe here is that a command is dispatched, distributed by Axon Server and handled.
As a result of the command an <code>AccountRegisteredEvent</code> is published and a deadline is scheduled as well.
In this image, the <code>AutomaticAccountCommandDispatcher.dispatch</code> span is the root trace, with each span being part of a call hierarchy within that trace.</p>
</div>
<div class="sect2">
<h3 id="_combining_factories"><a class="anchor" href="#_combining_factories"></a>Combining factories</h3>
<div class="paragraph">
<p>Sometimes you want the functionality of multiple <code>SpanFactory</code> implementations, while Axon&#8217;s configuration only allows one.
For this purpose, the framework contains the <code>MultiSpanFactory</code> that you can configure with multiple factories to which it delegates its calls.</p>
</div>
<div class="paragraph">
<p>For example, you can configure both the <code>LoggingSpanFactory</code> and the <code>OpenTelemetrySpanFactory</code> in the following fashion:</p>
</div>
<div class="sect3">
<h4 id="_axon_configuration_api_2"><a class="anchor" href="#_axon_configuration_api_2"></a>Axon Configuration API</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class AxonConfig {
    // omitting other configuration methods...
    public void configure(Configurer configurer) {
        configurer.configureSpanFactory(configuration -&gt; new MultiSpanFactory(
                Arrays.asList(
                        LoggingSpanFactory.INSTANCE,
                        OpenTelemetrySpanFactory.builder().build()
                )
        ));
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_spring_boot_auto_configuration_2"><a class="anchor" href="#_spring_boot_auto_configuration_2"></a>Spring Boot auto configuration</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Configuration
public class AxonConfig {
    // omitting other configuration methods...
    @Bean
    public SpanFactory spanFactory() {
        return new MultiSpanFactory(
                Arrays.asList(
                        LoggingSpanFactory.INSTANCE,
                        OpenTelemetrySpanFactory
                                .builder()
                                .build()
                )
        );
    }
}</code></pre>
</div>
</div>
<hr>
<div class="paragraph">
<p>By configuring the <code>MultiSpanFactory</code> a single, delegating span is created whenever the framework requests it.
This span contains the multiple span, one of each configured factory.
The deleting span makes sure all spans are called, acting as a single one.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_features"><a class="anchor" href="#_features"></a>Features</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following functionality in Axon Framework is traced in addition to the tracing capabilities already provided by the standard of your choice:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_commands">Dispatching and handling of commands</a></p>
</li>
<li>
<p><a href="#_events">Publishing of events</a></p>
</li>
<li>
<p><a href="#_event_processors">Handling of events by event processors</a></p>
</li>
<li>
<p><a href="#_queries">Dispatching and handling of queries</a></p>
</li>
<li>
<p><a href="#_sagas">Creation and handling of Sagas</a></p>
</li>
<li>
<p><a href="#_deadlines">Scheduling and invocation of deadlines</a></p>
</li>
<li>
<p><a href="#_snapshotting">Creation of snapshots</a></p>
</li>
<li>
<p><a href="#_message_handler_invocations">Tracing of each message handler invocation (Spring Boot only)</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Tracing all of this functionality provides you with the best possible insight into the performance of your application.</p>
</div>
<div class="sect2">
<h3 id="_span_types"><a class="anchor" href="#_span_types"></a>Span types</h3>
<div class="paragraph">
<p>The configured <code>SpanFactory</code> is responsible for creating spans when the framework requests it.
The framework specifies the type of span, the name, and a message that triggered the span (if any, it&#8217;s not required).
The framework can request the span types defined in the following table:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Span Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Root trace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create a new trace entirely, having no parent.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dispatch span</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A span which is dispatching a message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handler span</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A span which is handling a message. Will set the span that dispatched the message as the parent.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internal span</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A span which specified something internal. It&#8217;s not an entry or exit point.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A trace generally consists of multiple spans with different types, depending on the functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_span_nesting"><a class="anchor" href="#_span_nesting"></a>Span nesting</h3>
<div class="paragraph">
<p>Starting a span will make it a child span of the currently active one.
If there&#8217;s currently no span active, the new span will become the root span of a new trace.</p>
</div>
<div class="paragraph">
<p>During invocations which are normally synchronous, Axon Framework will create normal spans which become a child of the currently active one.
For example, publishing an event from a command is synchronous, and therefore the publishing span becomes a child of the command handling span.</p>
</div>
<div class="paragraph">
<p>When it comes to asynchronous invocations, the framework forces a new root trace to be created.
For example, a streaming event processor that processes an event will not be a child of the command handling span.
Instead, it will become its own root trace.
This is a measure to prevent traces from becoming too time-spread, making them unreadable.</p>
</div>
<div class="paragraph">
<p>Some standards, like OpenTelemetry, support linking.
By linking one span to another, they become correlated despite being part of a different trace.
Tooling that supports this creates links for the user to click, allowing for easy navigation between related traces.
This is incredibly useful to see causation within your system.</p>
</div>
</div>
<div class="sect2">
<h3 id="_span_attribute_providers"><a class="anchor" href="#_span_attribute_providers"></a>Span attribute providers</h3>
<div class="paragraph">
<p>Most tracing implementations can add additional attributes to spans.
This is useful when debugging your application or finding a specific span you are looking for.
The framework provides the <code>SpanAttributesProvider</code>, which can be registered to the <code>SpanFactory</code> either via its builder (if supported) or by calling the <code>SpanFactory.registerSpanAttributeProvider(provider)</code> method.</p>
</div>
<div class="paragraph">
<p>The following <code>SpanAttributesProvider</code> implementations are included in Axon Framework:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Class</th>
<th class="tableblock halign-left valign-top">label</th>
<th class="tableblock halign-left valign-top">description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AggregateIdentifierSpanAttributesProvider</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>axon_aggregate_identifier</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The aggregate identifier of the message, only present in case of a <code>DomainEventMessage</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MessageIdSpanAttributesProvider</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>axon_message_id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The identifier of the message</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MessageNameSpanAttributesProvider</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>axon_message_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the message for Commands and Queries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MessageTypeSpanAttributesProvider</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>axon_message_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The class of the message, such as <code>DomainEventMessage</code> or <code>GenericQueryMessage</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PayloadTypeSpanAttributesProvider</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>axon_payload_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The class of the payload in the message</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MetadataSpanAttributesProvider</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>axon_metadata_{key}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All metadata of the message is also added to the span with its corresponding key</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In addition to the ones provided by the framework, you can also create a custom <code>SpanAttributesProvider</code>.
and add it to the <code>SpanFactory</code>.
Use this if you want to add custom information on spans as a label.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class CustomSpanAttributesProvider implements SpanAttributesProvider {

    @Nonnull
    @Override
    public Map&lt;String, String&gt; provideForMessage(@Nonnull Message&lt;?&gt; message) {
        // Provide your labels based on the message here
        return Collections.emptyMap();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can register this custom <code>SpanAttributesProvider</code> in one of the following ways.</p>
</div>
<div class="sect3">
<h4 id="_axon_configuration_api_3"><a class="anchor" href="#_axon_configuration_api_3"></a>Axon Configuration API</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class AxonConfig {
    // omitting other configuration methods...
    public void configure(Configuration configuration) {
        configuration.spanFactory().registerSpanAttributeProvider(new CustomSpanAttributesProvider());
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_spring_boot_auto_configuration_bean_creation"><a class="anchor" href="#_spring_boot_auto_configuration_bean_creation"></a>Spring Boot auto configuration - bean creation</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Configuration
public class AxonConfig {
    // omitting other configuration methods...
    @Bean
    public SpanAttributesProvider customSpanAttributesProvider() {
        // Auto-configuration picks beans of type SpanAttributesProvider up automatically.
        return new CustomSpanAttributesProvider();
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_spring_boot_auto_configuration_bean_injection"><a class="anchor" href="#_spring_boot_auto_configuration_bean_injection"></a>Spring Boot auto configuration - bean injection</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Configuration
public class AxonConfig {
    // omitting other configuration methods...
    @Autowired
    public void configureSpanFactory(SpanFactory spanFactory) {
        spanFactory.registerSpanAttributeProvider(new CustomSpanAttributesProvider());
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_opentelemetry"><a class="anchor" href="#_opentelemetry"></a>OpenTelemetry</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Axon Framework provides <a href="https://opentelemetry.io/docs/concepts/what-is-opentelemetry/">OpenTelemetry support</a> out of the box.
The OpenTelemetry standard improves upon the OpenTracing and OpenCensus standards by providing more auto-instrumentation without the need for the user to configure many things.</p>
</div>
<div class="paragraph">
<p>OpenTelemetry works by adding a Java agent to the execution of the application.
Based on the configuration, the agent will collect logs, metrics and tracing automatically before sending it to a collector that can provide insights.
ElasticSearch APM, Jaeger and many other tools are available for collecting and visualting the information.
The configuration of these tools is beyond the scope of this guide.
You can find more information <a href="https://opentelemetry.io/docs/instrumentation/java/getting-started/">in the "Getting Started" section of the OpenTelemetry documentation.</a></p>
</div>
<div class="paragraph">
<p>OpenTelemetry <a href="https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/supported-libraries.md">"supports a lot of libraries,
frameworks and application servers out of the box."</a>
For example, when a Spring REST endpoint is called it will automatically start a trace.
With the <code>axon-tracing-opentelemetry</code> module, this trace will be propagated to all subsequent Axon Framework messages.
For example, if the REST call produces a command which is sent over Axon Server, handling the command will be included in the same trace as the original REST call.</p>
</div>
<div class="sect2">
<h3 id="_configuration"><a class="anchor" href="#_configuration"></a>Configuration</h3>
<div class="paragraph">
<p>To get OpenTelemetry support enabled you will need to add the following dependency to your application&#8217;s dependencies:</p>
</div>
<div class="sect4">
<h5 id="_maven"><a class="anchor" href="#_maven"></a>Maven</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.axonframework&lt;/groupId&gt;
    &lt;artifactId&gt;axon-tracing-opentelemetry&lt;/artifactId&gt;
	&lt;version&gt;${axon-framework.version}&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_gradle"><a class="anchor" href="#_gradle"></a>Gradle</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-gradle hljs" data-lang="gradle">implementation group: 'org.axonframework', name: 'axon-tracing-opentelemetry', version: axonFrameworkVersion</code></pre>
</div>
</div>
<div class="paragraph">
<p>Depending on your application, more configuration might be needed.</p>
</div>
</div>
<div class="sect3">
<h4 id="_spring_boot_auto_configuration_3"><a class="anchor" href="#_spring_boot_auto_configuration_3"></a>Spring Boot auto configuration</h4>
<div class="paragraph">
<p>When using the Spring Boot auto-configuration of Axon Framework, most things will be autoconfigured regardless of the implementation.</p>
</div>
<div class="paragraph">
<p>You might want to configure certain settings that are available.
The following table contains all configurable settings, their defaults, and what they change:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">setting</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>axon.tracing.showEventSourcingHandlers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to show event sourcing handlers as a trace. This can be noisy and is disabled by default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>axon.tracing.attributeProviders.aggregateIdentifier</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to add the aggregate identifier as a label when handling a message</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>axon.tracing.attributeProviders.messageId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to add the message identifier as a label when handling a message</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>axon.tracing.attributeProviders.messageName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to add the message name as a label when handling a message</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>axon.tracing.attributeProviders.messageType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to add the message type as a label when handling a message</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>axon.tracing.attributeProviders.payloadType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to add the payload type as a label when handling a message</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>axon.tracing.attributeProviders.metadata</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether to add the metadata properties as labels when handling a message</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_manual_configuration"><a class="anchor" href="#_manual_configuration"></a>Manual configuration</h4>
<div class="paragraph">
<p>The OpenTelemetry support can also be configured using the <code>Configurer</code> of Axon Framework to configure the <code>OpenTelemetrySpanFactory</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class AxonConfig {
    // omitting other configuration methods...
    public void configure(Configurer configurer) {
        configurer.defaultConfiguration()
                  .configureSpanFactory(c -&gt; OpenTelemetrySpanFactory.builder().build());
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that when not using Spring boot, tracing each message handler invocation is not supported due to a limitation.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_opentracing"><a class="anchor" href="#_opentracing"></a>OpenTracing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The OpenTracing standard is deprecated.
If necessary, you can still use <a href="../../../../tracing-extension-reference/4.10/" class="xref page">the OpenTracing extension of Axon Framework</a>.</p>
</div>
<div class="paragraph">
<p>Note that the functionality of this extension is rather limited compared to the OpenTelemetry integration.
Because of this, it&#8217;s recommended to switch to OpenTelemetry if possible.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_logging"><a class="anchor" href="#_logging"></a>Logging</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sometimes you don&#8217;t have an APM system available, for instance, during local development.
It might still be useful to see the traces that would be started and finished to obtain insights.
For this purpose, the framework provides a <code>LoggingSpanFactory</code>.</p>
</div>
<div class="paragraph">
<p>You can configure the <code>LoggingSpanFactory</code> in the following ways:</p>
</div>
<div class="sect3">
<h4 id="_axon_configuration_api_4"><a class="anchor" href="#_axon_configuration_api_4"></a>Axon Configuration API</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class AxonConfig {
    // omitting other configuration methods...
    public void configure(Configurer configurer) {
        configurer.configureSpanFactory(c -&gt; LoggingSpanFactory.INSTANCE);
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_spring_boot_auto_configuration_4"><a class="anchor" href="#_spring_boot_auto_configuration_4"></a>Spring Boot auto configuration</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Configuration
public class AxonConfig {
    // omitting other configuration methods...
    @Bean
    public SpanFactory spanFactory() {
        return LoggingSpanFactory.INSTANCE;
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_traced_components"><a class="anchor" href="#_traced_components"></a>Traced components</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Axon Framework provides a large range of components that are traced by the configured <code>SpanFactory</code>.
The spans created by each component are available for reference in this section, with additional information about how they should be interpreted.</p>
</div>
<div class="paragraph">
<p>It&#8217;s important to note that the availability of these spans is highly dependent on the application configuration.
For instance, some components are only used when using Axon Server, or you might have created your own <code>CommandBus</code>
implementation which does not call the <code>SpanFactory</code> API.</p>
</div>
<div class="sect2">
<h3 id="_commands"><a class="anchor" href="#_commands"></a>Commands</h3>
<div class="paragraph">
<p>The <code>CommandBus</code> is instrumented to create spans for both dispatching and handling commands.
The tracing differs based on whether you are using Axon Server.
The following tabs show the possible traces.</p>
</div>
<div class="sect3">
<h4 id="_axon_server"><a class="anchor" href="#_axon_server"></a>Axon Server</h4>
<div class="paragraph">
<p>When using the <code>AxonServerCommandBus</code>, there will be two handling and dispatch traces since it uses a second <code>CommandBus</code> to invoke the command locally after receiving it from Axon Server.
In addition, you can see the gRPC-call to Axon Server and the time it took to handle the call.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Trace name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AxonServerCommandBus.dispatch(${commandName})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The bus is dispatching the command to Axon Server.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AxonServerCommandBus.handle(${commandName})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The bus has received a command and is handling it.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${CommandBusClass}.dispatch(${commandName})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The localSegment invocation, dispatching the command locally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${CommandBusClass}.handle(${commandName})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The localSegment is handling the command.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${RepositoryClass}.load ${identifier}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The aggregate is being loaded by the repository. During this time Axon Framework will obtain a lock, fetch snapshots and events from the event store to hydrate the aggregate.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LockingRepository.obtainLock</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The repository is obtaining a lock for the aggregate. This taking some time indicates that the command was queued due to another command being handled for the same aggregate.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_without_axon_server"><a class="anchor" href="#_without_axon_server"></a>Without Axon Server</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Trace name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${CommandBusClass}.dispatch(${commandName})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The bus is dispatching the command locally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${CommandBusClass}.handle(${commandName})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The bus is invoking the handler locally.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${RepositoryClass}.load ${identifier}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The aggregate is being loaded by the repository. During this time Axon Framework will obtain a lock, fetch snapshots and events from the event store to hydrate the aggregate.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LockingRepository.obtainLock</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The repository is obtaining a lock for the aggregate. This taking some time indicates that the command was queued due to another command being handled for the same aggregate.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>During handling of commands, other functionality might be invoked such as scheduling deadlines or publishing events.
Please refer to the specific sections of this functionality for more information.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_events"><a class="anchor" href="#_events"></a>Events</h3>
<div class="paragraph">
<p>When publishing events, spans are created to indicate the event being published.
Each event that is being published has its own specific publishing span.
Any streaming event processor or saga handling the event in the future will be linked to the publishing spans, allowing easy click-through.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Trace name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${EventBusClass}.publish(${EventClass})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each event, a short span is created to indicate that an event was published.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${EventBusClass}.commit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates events being committed to the event store.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_event_processors"><a class="anchor" href="#_event_processors"></a>Event processors</h3>
<div class="paragraph">
<p>Event processor invocations are traced as well.
Since Streaming Event Processors are asynchronous, a new root trace is created for each event.
Subscribing event processors, on the other hand, will become part of the current trace because they are invoked synchronously.</p>
</div>
<div class="sect3">
<h4 id="_streaming_event_processors"><a class="anchor" href="#_streaming_event_processors"></a>Streaming event processors</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Trace name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${ProcessorType}[${processorName}](${EventClass})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Root trace of handling the event, includes all interceptor invocations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${ProcessorType}[${processorName}].process(${EventClass})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inner span of handling the event, after all interceptors have been invoked.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_subscribing_event_processors"><a class="anchor" href="#_subscribing_event_processors"></a>Subscribing event processors</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Trace name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${ProcessorType}[${processorName}].process(${EventClass})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The event is being handled by the subscribing event processor.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_deadlines"><a class="anchor" href="#_deadlines"></a>Deadlines</h3>
<div class="paragraph">
<p>Any action related to deadlines is traced in order to gain insight into what happened during specific calls.
Mutations on deadlines generally happen from another root trace, such as a command or saga.
The handling span of a deadline will be linked to the scheduling span for easy navigation.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Trace name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${DeadlineManagerClass}.schedule(${deadlineName})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A deadline was scheduled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${DeadlineManagerClass}.cancelSchedule(${deadlineName}, ${scheduleId})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A deadline was cancelled based on name and <code>scheduleId</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${DeadlineManagerClass}.cancelAll(${deadlineName})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All deadlines with a specific name were cancelled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${DeadlineManagerClass}.cancelAllWithinScope(${deadlineName})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All deadlines within a specific scope with a specific name were cancelled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DeadlineJob.execute(${deadlineName},${DeadlinePayloadClass})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Root trace of a deadline firing, containing the name and payload class.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_snapshotting"><a class="anchor" href="#_snapshotting"></a>Snapshotting</h3>
<div class="paragraph">
<p>Snapshotting is done in a separate root trace, due to the fact that it&#8217;s an asynchronous action and has no user impact.
However, it can still be useful to measure the performance of snapshotting and see when it is triggered.
The root trace of the <code>Snapshotter</code> invocation will be linked to the command handling span after which the snapshot was scheduled to be created.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Trace name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${SnapshotterClass}.createSnapshot($aggregateClass)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A snapshot creation task is being submitted. Depending on performance, the executor might take a while to pick it up.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${SnapshotterClass}.createSnapshot($aggregateClass, $aggregateIdentifier)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>Snapshotter</code> is now creating the snapshot.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The root trace does not contain the aggregate identifier so the APM tool groups any <code>Snapshotter</code> calls of the same aggregate type together.</p>
</div>
</div>
<div class="sect2">
<h3 id="_sagas"><a class="anchor" href="#_sagas"></a>Sagas</h3>
<div class="paragraph">
<p>Sagas are a special type of event processor that can invoke multiple saga&#8217;s for a single event.
Because of this the <code>AbstractSagaManager</code> has been instructed with additional tracing information.
These spans are descendants of an event processor span that invokes the manager.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Trace name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SagaManager[${SagaTypeName}].invokeSaga ${sagaIdentifier}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A matching saga has been found and is being invoked.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SagaManager[${SagaTypeName}].startNewSaga</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The manager is constructing a new saga.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_queries"><a class="anchor" href="#_queries"></a>Queries</h3>
<div class="paragraph">
<p>Queries support tracing in all of their forms.
In order to be clear about how they work, this section is split based upon the query&#8217;s type.
For all types, the created spans will differ based on whether Axon Server is used or not.
The spans that are only available with Axon Server are marked as such.</p>
</div>
<div class="sect3">
<h4 id="_direct_queries"><a class="anchor" href="#_direct_queries"></a>Direct queries</h4>
<div class="paragraph">
<p>Direct queries fetch a single result (either a single item or a single list) and receive no updates.
Traces will differ based on whether Axon Server is used or not.
The following tabs show the possible traces.</p>
</div>
<div class="sect4">
<h5 id="_axon_server_2"><a class="anchor" href="#_axon_server_2"></a>Axon Server</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Trace name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AxonServerQueryBus.query(${queryName})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The requesting service is dispatching the query.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>QueryProcessingTask(${queryName})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The handling service is handling the query request in a task.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SimpleQueryBus.query(${queryName})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The handling service is handling the query.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AxonServerQueryBus.ResponseProcessingTask(${queryName})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The requesting service is processing the response.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_without_axon_server_2"><a class="anchor" href="#_without_axon_server_2"></a>Without Axon Server</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Trace name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SimpleQueryBus.query(${queryName})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>QueryBus</code> is handling the query locally.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_streaming_queries"><a class="anchor" href="#_streaming_queries"></a>Streaming queries</h4>
<div class="paragraph">
<p>Streaming queries look similar to the traces of a Direct query.
They do not contain a <code>ResponseProcessingTask</code> span since their results are directly published to the invoker of the query.
Traces will differ based on whether Axon Server is used or not.
The following tabs show the possible traces.</p>
</div>
<div class="sect4">
<h5 id="_axon_server_3"><a class="anchor" href="#_axon_server_3"></a>Axon Server</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Trace name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AxonServerQueryBus.streamingQuery(${queryName})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The requesting service is dispatching the query.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>QueryProcessingTask(${queryName})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The handling service is handling the query request in a task.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SimpleQueryBus.streamingQuery(${queryName})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The handling service is handling the streaming query.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_without_axon_server_3"><a class="anchor" href="#_without_axon_server_3"></a>Without Axon Server</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Trace name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SimpleQueryBus.streamingQuery(${queryName})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>QueryBus</code> is handling the query locally.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_scatter_gather_queries"><a class="anchor" href="#_scatter_gather_queries"></a>Scatter-gather queries</h4>
<div class="paragraph">
<p>Scatter-Gather queries are like a direct query but can fetch results from multiple services at the same time.
Part of the trace can thus be duplicated multiple times, since multiple services are invoked.
Traces will differ based on whether Axon Server is used or not.
The following tabs show the possible traces.</p>
</div>
<div class="sect4">
<h5 id="_axon_server_4"><a class="anchor" href="#_axon_server_4"></a>Axon Server</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Trace name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AxonServerQueryBus.scatterGather(${queryName})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The requesting service is dispatching the query.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>QueryProcessingTask(${queryName})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The handling service is handling the query request in a task.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SimpleQueryBus.scatterGather(${queryName})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Each handling service is handling the query. Each handler within the same service has its own index.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_without_axon_server_4"><a class="anchor" href="#_without_axon_server_4"></a>Without Axon Server</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Trace name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SimpleQueryBus.scatterGather(${queryName})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>QueryBus</code> is handling the query locally. Each handler within the same service has its own index.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_subscription_queries"><a class="anchor" href="#_subscription_queries"></a>Subscription queries</h4>
<div class="paragraph">
<p>Subscription queries are traces in a different way than others.
Subscription queries have an initial result, which is traces like a direct query.
However, new results can later be published at any time after while the caller is still subscribed to it.</p>
</div>
<div class="paragraph">
<p>In order to prevent malformed traces, since most APM tools have a maximum span time before flushing them, publication of new results is not part of the original trace.
However, invocations of the <code>SimpleQueryUpdateEmitter</code> will be linked to the span of the queries that are listening to it, so the original call can easily be found.</p>
</div>
<div class="paragraph">
<p>The <code>QueryUpdateEmitter</code> traces will look like the following table:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Trace name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SimpleQueryUpdateEmitter.emit(${PayloadClass})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A new update is emitted.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SimpleQueryUpdateEmitter.emit ${queryName} (${PayloadClass})</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A new update is emitted for a specific consumer.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In addition to this, the spans of the <a href="#_direct_queries">direct queries section</a> apply as well.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_message_handler_invocations"><a class="anchor" href="#_message_handler_invocations"></a>Message handler invocations</h3>
<div class="paragraph">
<p>The <code>TracingHandlerEnhancerDefinition</code> automatically creates a span for each message handler invocation within your application.
This is true for commands, events, queries and even custom message handlers.
Spans will be created with the following format:
<code>ContainingClassName.methodName(ArgumentClass1, Argumentclass2, etc)</code>.
Examples of this are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>RoomAvailabilityHandler.on(RoomAddedEvent)</p>
</li>
<li>
<p>Account(RegisterAccountCommand,DeadlineManager)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>TracingHandlerEnhancerDefinition</code> functionality is autoconfigured for Spring Boot, with event sourcing handlers turned off by default.
This is because loading an aggregate might invoke many of these handlers, hitting the maximum number of spans for your APM tool.
Please refer to the <a href="#_spring_boot_auto_configuration">Spring Boot configuration</a> section if you want to enable this.</p>
</div>
</div>
</div>
</div>
        <nav class="pagination">
  <span class="prev"><a href="../">Monitoring</a></span>
  <span class="next"><a href="../metrics/">Metrics</a></span>
</nav>
    </article>
  </div>
</main>
</div>
<footer class="footer">
  <div class="primary-footer">
    <div class="footer-logo ">
      <a href="https://axoniq.io/">
        <img src="https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=90&amp;height=20&amp;name=Logo%20AxonIQ%20(2).png" alt="Logo AxonIQ" loading="lazy" srcset="https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=45&amp;height=10&amp;name=Logo%20AxonIQ%20(2).png 45w, https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=90&amp;height=20&amp;name=Logo%20AxonIQ%20(2).png 90w, https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=135&amp;height=30&amp;name=Logo%20AxonIQ%20(2).png 135w, https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=180&amp;height=40&amp;name=Logo%20AxonIQ%20(2).png 180w, https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=225&amp;height=50&amp;name=Logo%20AxonIQ%20(2).png 225w, https://www.axoniq.io/hs-fs/hubfs/Logo%20AxonIQ%20(2).png?width=270&amp;height=60&amp;name=Logo%20AxonIQ%20(2).png 270w" sizes="(max-width: 90px) 100vw, 90px" width="90" height="20">
      </a>
    </div>

    <div class="footer-menu">
	    <h3>Products</h3>
	    <div>
        <ul role="menu">
          <li><a class="ext" target="_blank" href="https://www.axoniq.io/products/axon-framework">Axon Framework</a></li>
          <li><a class="ext" target="_blank" href="https://www.axoniq.io/products/axon-server">Axon Server</a></li>
          <li><a class="ext" target="_blank" href="https://www.axoniq.io/products/axoniq-cloud">AxonIQ Cloud</a></li>
          <li><a class="ext" target="_blank" href="https://www.axoniq.io/products/axoniq-console">AxonIQ Console</a></li>
          <li><a class="ext" target="_blank" href="https://www.axoniq.io/products/axon-synapse">Axon Synapse</a></li>
          <li><a class="ext" target="_blank" href="https://www.axoniq.io/blog/protect-sensitive-data-in-an-event-sourced-application">AxonIQ Data Protection</a></li>
        </ul>
      </div>
    </div>

    <div class="footer-menu">
	    <h3>Sites</h3>
	    <div>
        <ul role="menu">
          <li><a class="ext" target="_blank" href="http://support.axoniq.io/">Customer Support Portal</a></li>
          <li><a class="ext" target="_blank" href="https://academy.axoniq.io/">AxonIQ Academy</a></li>
          <li><a class="ext" target="_blank" href="https://console.axoniq.io/">AxonIQ Console</a></li>
          <li><a class="ext" target="_blank" href="https://discuss.axoniq.io/">AxonIQ Discuss</a></li>
          <li><a class="ext" target="_blank" href="https://console.cloud.axoniq.io">AxonIQ Cloud</a></li>
        </ul>
      </div>
    </div>

    <div class="footer-menu">
	    <h3>Follow us</h3>
	    <div>
        <ul role="menu">
          <li><a class="ext" target="_blank" href="https://www.youtube.com/axoniq">YouTube</a></li>
          <li><a class="ext" target="_blank" href="https://www.linkedin.com/company/axoniq">LinkedIn</a></li>
          <li><a class="ext" target="_blank" href="https://github.com/AxonIQ">GitHub</a></li>
          <li><a class="ext" target="_blank" href="https://axoniq.bsky.social/">Bluesky</a></li>
          <li><a class="ext" target="_blank" href="https://www.instagram.com/axoniq/">Instagram</a></li>
          <li><a class="ext" target="_blank" href="https://www.facebook.com/AxonIQ.io">Facebook</a></li>
          <li><a class="ext" target="_blank" href="https://twitter.com/axon_iq">Twitter</a></li>
          <li><a class="ext" target="_blank" href="https://medium.com/axoniq">Medium</a></li>
        </ul>
      </div>
    </div>
  </div>
</footer>
<script id="site-script" src="../../../../_/js/site.js" data-ui-root-path="../../../../_"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script async src="../../../../_/js/vendor/page-actions.js"></script>
<script async src="../../../../_/js/vendor/tabs.js" data-sync-storage-key="preferred-tab" data-sync-storage-scope="session"></script>
<script src="../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../.." data-snippet-length="100" data-stylesheet="../../../../_/css/search.css"></script>
<script async src="../../../../search-index.js"></script>
  </body>
</html>
