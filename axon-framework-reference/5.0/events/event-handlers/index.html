<!DOCTYPE html>
<html lang="en">
  <head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Event Handlers</title>
    <link rel="canonical" href="https://docs.axoniq.io/axon-framework-reference/5.0/events/event-handlers/">
    <link rel="prev" href="../">
    <link rel="next" href="../event-publishing/">
    <meta name="generator" content="Antora 3.1.10">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <link rel="stylesheet" href="../../../../_/css/vendor/tabs.css">
    <link rel="icon" href="../../../../_/img/favicon.png" sizes="32x32">
    <link rel="apple-touch-icon" href="../../../../_/img/favicon.png"><!-- 180×180 -->
    <link rel="manifest" href="../../../../_/static/manifest.webmanifest">

        <!-- Google Tag Manager -->
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-5QD58ZB');</script>
        <!-- End Google Tag Manager -->

    <script>var uiRootPath = '../../../../_'</script>


<link rel="icon" href="../../../../_/img/favicon.png" type="image/png">
  </head>
  <body class="article">
    <div class="header_container">
      
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5QD58ZB"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://docs.axoniq.io">
        <img src="../../../../_/img/docs-logo.png" class="header_logo"/>
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-center">
        <a class="navbar-item" href="../../../../home/basics/">Basics</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="../../../../home/guides/">Guides</a>
          <div class="navbar-dropdown card">
            <a class="navbar-item" href="../../../../home/guides/axon-framework">Axon Framework</a>
            <a class="navbar-item" href="../../../../home/guides/axon-server">Axon Server</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="../../../../home/reference/">Reference</a>
          <div class="navbar-dropdown card">
                <a class="navbar-item" href="../../">Axon Framework</a>
                <a class="navbar-item" href="../../../../axon-framework-extensions/">Axon Framework Extensions</a>
                <a class="navbar-item" href="../../../../axon-server-reference/development/">Axon Server</a>
                <a class="navbar-item" href="../../../../synapse-reference/v0.12/">Axon Synapse</a>
                <a class="navbar-item" href="../../../../axoniq-platform-reference/">Axoniq Platform</a>
          </div>
        </div>
      </div>
      <div class="navbar-end">
          <div class="navbar-item search hide-for-print">
            <div id="search-field" class="field">
              <input id="search-input" type="text" placeholder="Search AxonIQ Docs">
            </div>
          </div>
        <a class="navbar-item navbar-button" href="https://platform.axoniq.io" target="_blank">Axoniq Platform</a>
      </div>
    </div>
  </nav>
</header>
      <div class="toolbar card" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../home/" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../">Axon Framework Reference</a></li>
    <li><a href="../">Events</a></li>
    <li><a href="./">Handling</a></li>
  </ul>
</nav>
<div class="page-actions">
  <button class="actions-menu-toggle" title="Show actions related to this page">Actions</button>
  <div class="actions-menu toolbar_dropdown_menu card">
      <a class="action item" href="https://github.com/AxonFramework/AxonFramework/edit/axon-5.0.x/docs/reference-guide/modules/events/pages/event-handlers.adoc">Edit this Page</a>
    
    <a class="action item" href="https://discuss.axoniq.io/search?q&#x3D;Event%20Handlers" target="discuss_search">View Discussions</a>
    <a class="action item" href="https://discuss.axoniq.io/new-topic?category&#x3D;library&amp;title&#x3D;%22Event%20Handlers%22%20Discussion&amp;body&#x3D;%3C!--%20Replace%20this%20comment%20with%20your%20comment%2Fsuggestion%2Fquestion%2F...%20--%3E%0A%0A%0A%3C!--%0AKeep%20the%20section%20below!%0ALinking%20back%20to%20the%20documentation%20URL%20not%20only%20helps%20people%20go%20to%20the%20page%0Abut%20also%20helps%20find%20relevant%20discussions%20from%20the%20documentation%20page%20via%20the%20%22View%20Discussion%22%20menu.%0A--%3E%0A%5Bdetails%3D%22Related%20library%20page%22%5D%0A%5BEvent%20Handlers%5D(https%3A%2F%2Fdocs.axoniq.io%2Faxon-framework-reference%2F5.0%2Fevents%2Fevent-handlers%2F)%0A%5B%2Fdetails%5D%0A" target="discuss_add">Start new discussion</a>
  </div>
</div>


<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">5.0</button>
  <div class="version-menu toolbar_dropdown_menu card">
    <a class="version item" href="../../../development/events/event-handlers/">development</a>
    <a class="version item is-current" href="./">5.0</a>
    <a class="version item" href="../../../4.12/events/event-handlers/">4.12</a>
    <a class="version item" href="../../../4.11/events/event-handlers/">4.11</a>
    <a class="version item" href="../../../4.10/events/event-handlers/">4.10</a>
    <a class="version item is-missing" href="../../../0/">older releases</a>
  </div>
</div>
</div>
    </div>
    <div class="content_container">
      <div class="body">
<div class="nav-container" data-component="axon-framework-reference" data-version="5.0">
    <aside class="nav card">
      <div class="panels">
        <div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../">Axon Framework</a></h3>

<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../migration/">Migration Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../migration/why-upgrade/">Why Upgrade?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../migration/prerequisites/">Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../migration/solved-architecture-choices/">Resolved Problems</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../migration/understanding-architecture-principles/">Understanding Choices</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../messaging-concepts/">Messaging Concepts</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../messaging-concepts/anatomy-message/">Anatomy of a Message</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../messaging-concepts/message-intercepting/">Message Intercepting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../messaging-concepts/supported-parameters-annotated-handlers/">Supported Parameters for Annotated Handlers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../messaging-concepts/message-correlation/">Message Correlation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../messaging-concepts/exception-handling/">Exception Handling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../messaging-concepts/processing-context/">Processing Context</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../commands/">Commands</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../commands/command-handlers/">Handling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../commands/command-dispatchers/">Dispatching</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../commands/infrastructure/">Infrastructure</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../commands/configuration/">Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../">Events</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="./">Handling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../event-publishing/">Publishing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../event-processors/">Event Processors</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../event-processors/subscribing/">Subscribing Event Processor</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../event-processors/streaming/">Streaming Event Processor</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../event-processors/dead-letter-queue/">Dead-Letter Queue</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../infrastructure/">Infrastructure</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../event-store-internals/">Event Store Internals</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../event-versioning/">Versioning</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../queries/">Queries</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../queries/query-handlers/">Handling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../queries/query-dispatchers/">Dispatching</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../queries/infrastructure/">Infrastructure</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../queries/configuration/">Configuration</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../testing/">Testing</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../testing/basic-testing/">Basic Testing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../testing/matchers-and-field-filters/">Matchers and Field Filters</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../testing/advanced-testing/">Advanced Testing</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../conversion/">Conversion</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../tuning/">Tuning</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tuning/event-snapshots/">Event Snapshots</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tuning/event-processing/">Event Processing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tuning/command-processing/">Command Processing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../tuning/rdbms-tuning/">Relational Databases</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../monitoring/">Monitoring</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../monitoring/tracing/">Tracing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../monitoring/metrics/">Metrics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../monitoring/health/">Health Indicators</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../monitoring/processors/">Event Processor Monitoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../monitoring/message-tracking/">Message Tracking</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../spring-boot-integration/">Spring Boot Integration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../modules/">Modules</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../release-notes/">Release Notes</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../release-notes/major-releases/">Major Releases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../release-notes/minor-releases/">Minor Releases</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../known-issues-and-workarounds/">Known Issues and Workarounds</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
      </div>
    </aside>
</div>
<main class="article">
    <div class="page_content">
        <aside class="toc sidebar" data-title="Page content" data-levels="2">
  <div class="toc-menu"></div>
</aside>
          <article class="doc">
                <h1 class="page">Event Handlers</h1>
            <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>An <em>Event Handler</em> is a method that is capable of handling an <code>EventMessage</code>.
As such, the method will react to the occurrences within an application.</p>
</div>
<div class="paragraph">
<p>In Axon, an <em>object</em> may declare several event handlers.
This <em>object</em> is referred to as an <em>Event Handling Component</em>.
In most cases, each of these methods is annotated with <code>@EventHandler</code>.
When drafting an <code>@EventHandler</code> annotated method, the declared parameters of the method define which events it will receive.
If users prefer not to use annotations, they&#8217;re able to manual subscribe every event handler as a lambda with the <code>EventHandlingComponent</code>, as shown <a href="#registering_event_handlers">here</a>.</p>
</div>
<div class="paragraph">
<p>Arguably the most important parameter of an event handler is the first parameter which refers to the payload of an <code>EventMessage</code>.
If the event handler does not need access to the payload of the message, you can specify the expected payload type on the <code>@EventHandler</code> annotation.</p>
</div>
<div class="paragraph">
<p>Do not configure the payload type on the annotation if you want the payload to be passed as a parameter.
For a complete list of all parameters, we refer to <a href="../../messaging-concepts/supported-parameters-annotated-handlers/#supported-parameters-for-event-handlers" class="xref page">this</a> section.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="registering_event_handlers"><a class="anchor" href="#registering_event_handlers"></a>Registering event handlers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Event handlers can be provided in two forms to Axon:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>As an <code>@EventHandler</code> annotated method.</p>
</li>
<li>
<p>As an <code>EventHandler</code> implementation or lambda.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This split resembles the difference between autodetected and declarative configuration.
The former is, for example, used by Spring to automate the registration of your handlers.
The latter would be preferred, for example, by those aiming to use no annotations at all.</p>
</div>
<div class="paragraph">
<p>Event handlers are registered as part of event handling components.
In turn, these event handling components are registered as a part of configuring <a href="../event-processors/" class="xref page">event processors</a>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Annotating event messages</div>
<div class="paragraph">
<p>As explained further <a href="#annotated_event_handler_name_resolution">here</a>, it&#8217;s recommended to annotate all event message classes with <code>@Event</code>. This allows you to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Define an explicit message type independent of the Java class name.</p>
</li>
<li>
<p>Version your queries for evolution over time.</p>
</li>
<li>
<p>Organize queries by bounded context using namespaces.</p>
</li>
<li>
<p>Leverage payload conversion at handling time for different representations.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <code>@Event</code> annotation is omitted, Axon will default to using the fully qualified class name as the event name, which tightly couples your message identity to your Java package structure.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The exception to this flow is Spring, for which the registration of event handlers is separated from the configuration of event processors.
The examples below show how to event handlers can be configured:</p>
</div>
<div id="_tabs_1" class="openblock tabs is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_1_autodetected_spring_boot" class="tab">
<p>Autodetected - Spring Boot</p>
</li>
<li id="_tabs_1_autodetected_configuration_api" class="tab">
<p>Autodetected - Configuration API</p>
</li>
<li id="_tabs_1_declarative_configuration_api" class="tab">
<p>Declarative - Configuration API</p>
</li>
</ul>
</div>
<div id="_tabs_1_autodetected_spring_boot--panel" class="tabpanel" aria-labelledby="_tabs_1_autodetected_spring_boot">
<div class="paragraph">
<p>In a Spring Boot environment, simply adding the Event Handling Components to the Application Context is sufficient:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Component
public class AnnotatedEventHandlingComponent {

    @EventHandler
    public void on(SomeEvent event) {
        // ...
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Axon&#8217;s auto-configuration will automatically detect and register all message handlers and assign them to the appropriate event processor.
Be sure to read <a href="#annotated_event_handler_name_resolution">this section</a> if you want to comprehend how you can influence the automated handler registration.</p>
</div>
</div>
<div id="_tabs_1_autodetected_configuration_api--panel" class="tabpanel" aria-labelledby="_tabs_1_autodetected_configuration_api">
<div class="paragraph">
<p>When using Axon&#8217;s configuration API, event handlers can only be registered as part of event processor configuration.
However, you are not inclined to register every event handler separately, assuming you&#8217;re using the <code>@EventHandler</code> annotation.
When assigning event handling components to an event processor, you will be able to use the <code>autodetected</code> method for this flow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.axonframework.messaging.core.configuration.MessagingConfigurer;
import org.axonframework.messaging.eventhandling.configuration.EventHandlingComponentsConfigurer;
import org.axonframework.messaging.eventhandling.processing.streaming.pooled.PooledStreamingEventProcessorsConfigurer;

public class AxonConfig {

    public void configureEventProcessing(MessagingConfigurer configurer) {
        configurer.eventProcessing(eventConfigurer -&gt; eventConfigurer.pooledStreaming(
                this::configurePooledStreamingProcessor
        ));
    }

    private PooledStreamingEventProcessorsConfigurer configurePooledStreamingProcessor(
            PooledStreamingEventProcessorsConfigurer pooledStreamingConfigurer
    ) {
        return pooledStreamingConfigurer.processor(
                "my-processor",
                config -&gt; config.eventHandlingComponents(this::configureHandlingComponent).notCustomized()
        );
    }

    private EventHandlingComponentsConfigurer.AdditionalComponentPhase configureHandlingComponent(
            EventHandlingComponentsConfigurer.RequiredComponentPhase componentConfigurer
    ) {
        return componentConfigurer.autodetected(c -&gt; new AnnotatedEventHandlingComponent());
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>With <code>autodetected()</code>, the framework scans the component for <code>@EventHandler</code> annotated methods and registers them automatically.
This is the recommended approach when using annotations.
Be sure to read <a href="#annotated_event_handler_name_resolution">this section</a> if you want to comprehend how you can influence the automated handler registration.</p>
</div>
<div class="paragraph">
<p>For complete details on event processor configuration and assigning handlers to processors, see <a href="../event-processors/" class="xref page">Event Processors</a>.</p>
</div>
</div>
<div id="_tabs_1_declarative_configuration_api--panel" class="tabpanel" aria-labelledby="_tabs_1_declarative_configuration_api">
<div class="paragraph">
<p>When using Axon&#8217;s configuration API, event handlers can only be registered as part of event processor configuration.
If your prefer not to use annotations, you will have to subscribe every event handler separately with an <code>EventHandlingComponent</code>
You&#8217;re automatically guided to that point when you are configuring an event processor and choose the <code>declarative</code> flow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.axonframework.messaging.core.MessageStream;
import org.axonframework.messaging.core.QualifiedName;
import org.axonframework.messaging.core.configuration.MessagingConfigurer;
import org.axonframework.messaging.eventhandling.EventHandlingComponent;
import org.axonframework.messaging.eventhandling.SimpleEventHandlingComponent;
import org.axonframework.messaging.eventhandling.configuration.EventHandlingComponentsConfigurer;
import org.axonframework.messaging.eventhandling.processing.streaming.pooled.PooledStreamingEventProcessorsConfigurer;

public class AxonConfig {

    public void configureEventProcessing(MessagingConfigurer configurer) {
        configurer.eventProcessing(eventConfigurer -&gt; eventConfigurer.pooledStreaming(
                this::configurePooledStreamingProcessor
        ));
    }

    private PooledStreamingEventProcessorsConfigurer configurePooledStreamingProcessor(
            PooledStreamingEventProcessorsConfigurer pooledStreamingConfigurer
    ) {
        return pooledStreamingConfigurer.processor(
                "my-processor",
                config -&gt; config.eventHandlingComponents(this::configureHandlingComponent).notCustomized()
        );
    }

    private EventHandlingComponentsConfigurer.AdditionalComponentPhase configureHandlingComponent(
            EventHandlingComponentsConfigurer.RequiredComponentPhase componentConfigurer
    ) {
        return componentConfigurer.declarative(c -&gt; {
            EventHandlingComponent eventHandlingComponent = new SimpleEventHandlingComponent();
            eventHandlingComponent.subscribe(
                    new QualifiedName("OrderPlaced"),
                    (event, context) -&gt; {
                        OrderPlacedEvent eventPayload = event.payloadAs(OrderPlacedEvent.class);
                        // process events
                        return MessageStream.empty();
                    }
            );
            return eventHandlingComponent;
        });
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>With <code>declarative()</code>, you explicitly create an <code>EventHandlingComponent</code> (typically <code>SimpleEventHandlingComponent</code>) and subscribe handler logic using the <code>subscribe()</code> methods.
This gives you full control without relying on annotation scanning.
Use this when you want to avoid annotation-based "magic" and prefer a more explicit configuration style.</p>
</div>
<div class="paragraph">
<p>For complete details on event processor configuration and assigning handlers to processors, see <a href="../event-processors/" class="xref page">Event Processors</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="annotated_event_handler_name_resolution"><a class="anchor" href="#annotated_event_handler_name_resolution"></a>Annotated event handler name resolution</h3>
<div class="paragraph">
<p><code>@EventHandler</code> annotated methods can specify which event they handle in two ways.</p>
</div>
<div class="paragraph">
<p>Most common is the use of the <code>@Event</code> annotation on your event class.
This allows you to explicitly define its name, namespace, and version:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Event(
    namespace = "com.example.orders",   // Defaults to package name
    name = "OrderPlaced",               // Local name; defaults to simple class name
    version = "1.0.0"                   // Defaults to "0.0.1"
)
public record OrderPlacedEvent(
    String orderId,
    String customerId
) {
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The event handler&#8217;s name is composed of <code>namespace</code> + <code>name</code> (for example, <code>"com.example.orders.OrderPlaced"</code>).
Now let&#8217;s assume we have an <code>@EventHandler</code> handling the <code>OrderPlacedEvent</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@EventHandler
public void on(OrderPlacedEvent event) {
    // ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Axon&#8217;s autodetected configuration will find the <code>OrderPlacedEvent</code> event handler and note the <code>@Event</code> handler.
The resulting name is then used to register the handler.
The component in charge of this resolution is the <code>MessageTypeResolver</code>, which is explained in more detail <a href="../../messaging-concepts/anatomy-message/#message_type_resolution" class="xref page">here</a>.</p>
</div>
<div class="paragraph">
<p>If you need to override the name used to register the event handler or if the event payload does not contain the <code>@Event</code> annotation at all, you should define the <code>eventName</code> attribute of the <code>@EventHandler</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@EventHandler(eventName = "com.example.orders.OrderPlaced")
public void handleOrderPlaced(Map&lt;String, Object&gt; eventData) {
    // Handles events with qualified name "com.example.orders.OrderPlaced"
    // Payload is converted to Map at handling time
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="handler-resolution"><a class="anchor" href="#handler-resolution"></a>Handler resolution - How a published event reaches an event handler</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When an event is published, Axon determines which event handler methods to invoke based on the event type.
In Axon, <strong>all matching event handlers are invoked</strong> for each event.
Matching is done based on the <code>QualifiedName</code> of the handler and the <code>MessageType</code> of the event (both the name and type are explained in more detail <a href="../../messaging-concepts/anatomy-message/#message_type" class="xref page">here</a>).</p>
</div>
<div class="paragraph">
<p>When you have manually subscribed every event handler with an Event Handling Component, the matching based on the names is leading.
When you&#8217;ve taken the <code>autodetected</code> flow (as shown <a href="#registering_event_handlers">here</a>), the framework uses the following rules to determine matching handlers:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Axon identifies all event handlers that can handle the event type by matching the type with the name of the handler.</p>
</li>
<li>
<p>For each matching handler, Axon evaluates whether it can resolve all required parameters.</p>
</li>
<li>
<p>All handlers for which parameters can be resolved are invoked.</p>
</li>
<li>
<p>If no suitable event handler is found, the event is ignored (or handled by the processor&#8217;s default behavior).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Consider the following Event Handling Component sample:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class OrderEventHandler {

    @EventHandler
    public void on(OrderPlacedEvent event) {
        // Update read model
    }

    @EventHandler
    public void logOrderPlaced(OrderPlacedEvent event, @MetadataValue("userId") String userId) {
        // Log the event - this handler is ALSO invoked for OrderPlacedEvent
    }

    @EventHandler
    public void on(OrderShippedEvent event) {
        // Handle order shipped
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, when an <code>OrderPlacedEvent</code> is published, <strong>both</strong> the <code>on()</code> and <code>logOrderPlaced()</code> methods will be invoked.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="event_handler_return_values"><a class="anchor" href="#event_handler_return_values"></a>Event handler return values</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Event handlers through their nature cannot have a concrete return object.
This stems from the fact that an event handler can handle events from 5 minutes ago, 5 days ago, or 5 years ago.
As such, an event handler is conceptually not able to "directly" respond to the component that published the event.</p>
</div>
<div class="paragraph">
<p>Hence, the typical return type of any event handler is <code>void</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@EventHandler
public void on(OrderPlacedEvent event) {
    // Update state, no return value
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>However, you are able to make asynchronous event handlers, by for example using a <code>CompletableFuture&lt;Void&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@EventHandler
public CompletableFuture&lt;Void&gt; on(OrderPlacedEvent event) {
    return asyncService.processOrder(event.getOrderId());
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The framework will wait for the <code>CompletableFuture</code> to complete before considering the event handled.
The same option applies for <code>Mono</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@EventHandler
public Mono&lt;Void&gt; on(OrderPlacedEvent event) {
    return reactiveService.processOrder(event.getOrderId());
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Lastly, you&#8217;re able to use Axon&#8217;s <code>MessageStream</code> to support either of the above flows.
When registering an <code>EventHandler</code> as a lambda directly, you are even expected to return a <code>MessageStream</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.axonframework.messaging.core.MessageStream;
import org.axonframework.messaging.core.QualifiedName;
import org.axonframework.messaging.eventhandling.EventHandlingComponent;
import org.axonframework.messaging.eventhandling.SimpleEventHandlingComponent;
import org.axonframework.messaging.eventhandling.TerminalEventMessage;
import org.axonframework.messaging.eventhandling.configuration.EventHandlingComponentsConfigurer;

public class AxonConfig {

    // omitted event processing configurer methods...

    private EventHandlingComponentsConfigurer.AdditionalComponentPhase configureHandlingComponent(
            EventHandlingComponentsConfigurer.RequiredComponentPhase componentConfigurer
    ) {
        return componentConfigurer.declarative(c -&gt; {
            EventHandlingComponent eventHandlingComponent = new SimpleEventHandlingComponent();
            eventHandlingComponent.subscribe(
                    new QualifiedName("OrderPlaced"),
                    (event, context) -&gt; {
                        OrderPlacedEvent eventPayload = event.payloadAs(OrderPlacedEvent.class);
                        // process events
                        return MessageStream.empty();
                    }
            );
            eventHandlingComponent.subscribe(
                    new QualifiedName("OrderDeclined"),
                    (event, context) -&gt; {
                        OrderDeclinedEvent eventPayload = event.payloadAs(OrderDeclinedEvent.class);
                        AsyncService asyncService = context.component(AsyncService.class);
                        return MessageStream.fromFuture(asyncService.processOrderDeclined(eventPayload)
                                                                    .thenApply(r -&gt; TerminalEventMessage.INSTANCE))
                                            .cast()
                                            .ignoreEntries();
                    }
            );
            return eventHandlingComponent;
        });
    }
}</code></pre>
</div>
</div>
</div>
</div>
        <nav class="pagination">
  <span class="prev"><a href="../">Events</a></span>
  <span class="next"><a href="../event-publishing/">Publishing</a></span>
</nav>
    </article>
  </div>
</main>
</div>
      <footer class="footer">
  <div class="secondary-footer">
    <p>Copyright © 2025 AxonIQ BV. All Rights Reserved</p>
    <img referrerpolicy="no-referrer-when-downgrade" src="https://static.scarf.sh/a.png?x-pxid=e0b2b5cb-139e-4753-acab-bae43f90c5d3" />
  </div>
</footer>
<script id="site-script" src="../../../../_/js/site.js" data-ui-root-path="../../../../_"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
<script async src="../../../../_/js/vendor/page-actions.js"></script>
<script async src="../../../../_/js/vendor/tabs.js" data-sync-storage-key="preferred-tab" data-sync-storage-scope="session"></script>
<script src="../../../../_/js/vendor/lunr.js"></script>
<script src="../../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../../.." data-snippet-length="100" data-stylesheet="../../../../_/css/search.css"></script>
<script async src="../../../../search-index.js"></script>
    </div>
  </body>
</html>
